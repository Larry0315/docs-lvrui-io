<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"docs.lvrui.io","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. &quot;å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº&quot;, åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ&quot;.">
<meta property="og:type" content="website">
<meta property="og:title" content="Polar Snow Documentation">
<meta property="og:url" content="https://docs.lvrui.io/page/25/index.html">
<meta property="og:site_name" content="Polar Snow Documentation">
<meta property="og:description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. &quot;å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº&quot;, åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ&quot;.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="æåœ°ç‘é›ª">
<meta property="article:tag" content="Kubernetes">
<meta property="article:tag" content="k8s">
<meta property="article:tag" content="etcd">
<meta property="article:tag" content="golang">
<meta property="article:tag" content="python">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://docs.lvrui.io/page/25/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Polar Snow Documentation</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?963aa068438aaf077b5ce5d3b8d51c95";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Polar Snow Documentation</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">èŠ±æœ‰é‡å¼€æ—¥ äººæ— å†å°‘å¹´</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾<span class="badge">378</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>åˆ†ç±»<span class="badge">15</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£<span class="badge">287</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/Larry0315" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/16/Python%E5%8F%8D%E5%B0%84%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/16/Python%E5%8F%8D%E5%B0%84%E8%AF%A6%E8%A7%A3/" class="post-title-link" itemprop="url">Pythonåå°„è¯¦è§£</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-16 02:03:20" itemprop="dateCreated datePublished" datetime="2016-06-16T02:03:20+08:00">2016-06-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/16/Python%E5%8F%8D%E5%B0%84%E8%AF%A6%E8%A7%A3/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/16/Pythonåå°„è¯¦è§£/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>åå°„ï¼Œå¯ä»¥ç†è§£ä¸ºåˆ©ç”¨å­—ç¬¦ä¸²çš„å½¢å¼å»å¯¹è±¡ä¸­æ“ä½œæˆå‘˜å±æ€§å’Œæ–¹æ³•</p>
<p>åå°„çš„è¿™ç‚¹ç‰¹æ€§è®©æˆ‘è”æƒ³åˆ°äº†<code>exec</code>å‡½æ•°ï¼Œä¹Ÿæ˜¯æŠŠåˆ©ç”¨å­—ç¬¦ä¸²çš„å½¢å¼å»è®©Pythonè§£é‡Šå™¨å»æ‰§è¡Œå‘½ä»¤</p>
<p>Python Version: 3.5+</p>
</blockquote>
<p>è§£é‡ŠPythonçš„åå°„ï¼Œå…ˆæä¸€ä¸ªç®€å•çš„éœ€æ±‚ï¼Œç°åœ¨æˆ‘æœ‰ä¸€ä¸ªç®€æ˜“çš„ç½‘ç«™ï¼Œç”±ä¸¤ä¸ªæ–‡ä»¶ç»„æˆï¼Œä¸€ä¸ªæ˜¯å…·ä½“æ‰§è¡Œæ“ä½œçš„<code>commons.py</code>æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯å…¥å£æ–‡ä»¶<code>index.py</code>ï¼Œç°åœ¨æˆ‘éœ€è¦åœ¨å…¥å£æ–‡ä»¶ä¸­è®¾ç½®ï¼Œè®©ç”¨æˆ·è¾“å…¥urlï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥çš„urlå»åç«¯æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># commons.py</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'ç™»å½•é¡µé¢!'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logout</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'é€€å‡ºé¡µé¢!'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'ä¸»é¡µé¢'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># index.py</span></span><br><span class="line"><span class="keyword">import</span> commons</span><br><span class="line"></span><br><span class="line">inp = input(<span class="string">'url &gt; '</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> inp == <span class="string">'login'</span>:</span><br><span class="line">    commons.login()</span><br><span class="line"><span class="keyword">elif</span> inp == <span class="string">'logout'</span>:</span><br><span class="line">    commons.logout()</span><br><span class="line"><span class="keyword">elif</span> inp == <span class="string">'index'</span>:</span><br><span class="line">    commons.index()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'404'</span>)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">url &gt; login</span><br><span class="line">ç™»å½•é¡µé¢!</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æˆ‘ä½¿ç”¨äº†ifåˆ¤æ–­ï¼Œæ ¹æ®æ¯ä¸€ä¸ªurlè¯·æ±‚å»åç«¯æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°ã€‚é‚£ç°åœ¨æˆ‘çš„ç½‘ç«™å†…å®¹å˜å¤šäº†ï¼Œåœ¨<code>commons.py</code>ä¸­æœ‰100ä¸ªé¡µé¢æ“ä½œï¼Œé‚£ä¹ˆç›¸å¯¹åº”çš„æˆ‘åœ¨<code>index.py</code>ä¸­ä¹Ÿè¦ä½¿ç”¨if else å¯¹è¿™100ä¸ªé¡µé¢å‡½æ•°è¿›è¡Œæ‰‹åŠ¨æŒ‡å®šã€‚</p>
<p>æœ‰äº†PythonğŸåå°„çš„ç‰¹æ€§ï¼Œè¿™ä¸ªéœ€æ±‚å°±å˜å¾—å¼‚å¸¸ç®€å•äº†ï¼Œå…ˆä¸å¤šè§£é‡Šï¼Œå…ˆçœ‹ä»£ç (commons.pyä¿æŒæ–‡ä»¶ä¸å˜ï¼Œè¿˜æ˜¯æ‹¿ä¸‰ä¸ªé¡µé¢çš„æ“ä½œä¸¾ä¾‹ğŸŒ°)ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># index.py</span></span><br><span class="line"><span class="keyword">import</span> commons</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    inp = input(<span class="string">'url &gt; '</span>)</span><br><span class="line">    <span class="keyword">if</span> hasattr(commons, inp):</span><br><span class="line">        func = getattr(commons, inp)</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'404'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    run()</span><br><span class="line">    </span><br><span class="line">------------</span><br><span class="line">url &gt; logout</span><br><span class="line">é€€å‡ºé¡µé¢!</span><br></pre></td></tr></table></figure>

<p>Look! Pythonçš„åå°„ç«‹äº†å¤§åŠŸï¼Œä½¿ç”¨è¿™å‡ è¡Œä»£ç ï¼Œå¯ä»¥åº”å¯¹<code>commons.py</code>æ–‡ä»¶ä¸­ä»»æ„å¤šä¸ªé¡µé¢å‡½æ•°çš„è°ƒç”¨ï¼æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯¦ç»†ä»‹ç»Pythonåå°„ä¸­ç”¨åˆ°çš„å†…å»ºå‡½æ•°</p>
<h1 id="getattr"><a href="#getattr" class="headerlink" title="getattr()"></a>getattr()</h1><p>å…ˆçœ‹ä¸‹æºç ä¸­çš„è§£é‡Š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getattr</span><span class="params">(object, name, default=None)</span>:</span> <span class="comment"># known special case of getattr</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    getattr(object, name[, default]) -&gt; value</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Get a named attribute from an object; getattr(x, 'y') is equivalent to x.y.</span></span><br><span class="line"><span class="string">    When a default argument is given, it is returned when the attribute doesn't</span></span><br><span class="line"><span class="string">    exist; without it, an exception is raised in that case.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p><code>getattr()</code>å‡½æ•°æ‰§è¡ŒæˆåŠŸåä¼šå°†å‚æ•°ä¸­å¯¹è±¡ä¸­çš„æ–¹æ³•èµ‹å€¼ç»™æ–°çš„å˜é‡ï¼ˆä¼šè¿”å›å‚æ•°ä¸­æŒ‡å®šçš„å¯¹è±¡ä¸­çš„æ–¹æ³•ï¼‰ç›¸å½“äºå‚æ•°ä¸­çš„æ–¹æ³•åˆå¤šäº†ä¸€ä¸ªæ ˆåŒºçš„å˜é‡å»å¼•ç”¨</p>
<p><code>getattr()</code>å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦æ˜¯ä¸ªå¯¹è±¡ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘å¯¼å…¥äº†è‡ªå®šä¹‰çš„commonsæ¨¡å—ï¼Œcommonså°±æ˜¯ä¸ªå¯¹è±¡ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯æŒ‡å®šå‰é¢å¯¹è±¡ä¸­çš„ä¸€ä¸ªæ–¹æ³•åç§°ã€‚<code>getattr(x, &#39;y&#39;)</code> ç­‰ä»·äºæ‰§è¡Œäº† <code>x.y</code>ã€‚å‡å¦‚ç¬¬äºŒä¸ªå‚æ•°è¾“å…¥äº†å‰é¢å¯¹è±¡ä¸­ä¸å­˜åœ¨çš„æ–¹æ³•ï¼Œè¯¥å‡½æ•°ä¼šæŠ›å‡ºå¼‚å¸¸å¹¶é€€å‡ºã€‚æ‰€ä»¥è¿™ä¸ªæ—¶å€™ï¼Œä¸ºäº†ç¨‹åºçš„å¥å£®æ€§ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ¤æ–­ä¸€ä¸‹è¯¥å¯¹è±¡ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œäºæ˜¯<code>hasattr()</code>å‡½æ•°ç™»åœºäº†~~</p>
<h1 id="hasattr"><a href="#hasattr" class="headerlink" title="hasattr()"></a>hasattr()</h1><p>è¿˜æ˜¯å…ˆçœ‹ä¸‹æºç çš„è§£é‡Š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hasattr</span><span class="params">(*args, **kwargs)</span>:</span> <span class="comment"># real signature unknown</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Return whether the object has an attribute with the given name.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    This is done by calling getattr(obj, name) and catching AttributeError.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p><code>hasattr()</code>å‡½æ•°è¿”å›å¯¹è±¡æ˜¯å¦æ‹¥æœ‰æŒ‡å®šåç§°çš„å±æ€§ï¼Œç®€å•çš„è¯´å°±æ˜¯æ£€æŸ¥åœ¨ç¬¬ä¸€ä¸ªå‚æ•°çš„å¯¹è±¡ä¸­ï¼Œèƒ½å¦æ‰¾åˆ°ä¸ç¬¬äºŒå‚æ•°åç›¸åŒçš„æ–¹æ³•ã€‚æºç çš„è§£é‡Šè¿˜è¯´ï¼Œè¯¥å‡½æ•°çš„å®ç°å…¶å®å°±æ˜¯è°ƒç”¨äº†<code>getattr()</code>å‡½æ•°ï¼Œåªä¸è¿‡å®ƒæ•è·äº†å¼‚å¸¸è€Œå·²ã€‚æ‰€ä»¥é€šè¿‡è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå»åˆ¤æ–­å¯¹è±¡ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œæœ‰åˆ™ä½¿ç”¨<code>getattr()</code>æ¥è·å–è¯¥æ–¹æ³•ã€‚</p>
<h1 id="delattr"><a href="#delattr" class="headerlink" title="delattr()"></a>delattr()</h1><p>åˆ é™¤æŒ‡å®šå¯¹è±¡ä¸­çš„æŒ‡å®šæ–¹æ³•ï¼Œç‰¹åˆ«æç¤ºï¼šåªæ˜¯åœ¨æœ¬æ¬¡è¿è¡Œç¨‹åºçš„å†…å­˜ä¸­å°†è¯¥æ–¹æ³•åˆ é™¤ï¼Œå¹¶æ²¡æœ‰å½±å“åˆ°æ–‡ä»¶çš„å†…å®¹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> commons</span><br><span class="line"></span><br><span class="line">print(dir(commons))</span><br><span class="line">delattr(commons, <span class="string">'index'</span>)</span><br><span class="line">print(dir(commons))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">[<span class="string">'__builtins__'</span>, <span class="string">'__cached__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__file__'</span>, <span class="string">'__loader__'</span>, <span class="string">'__name__'</span>, <span class="string">'__package__'</span>, <span class="string">'__spec__'</span>, <span class="string">'index'</span>, <span class="string">'login'</span>, <span class="string">'logout'</span>]</span><br><span class="line">[<span class="string">'__builtins__'</span>, <span class="string">'__cached__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__file__'</span>, <span class="string">'__loader__'</span>, <span class="string">'__name__'</span>, <span class="string">'__package__'</span>, <span class="string">'__spec__'</span>, <span class="string">'login'</span>, <span class="string">'logout'</span>]</span><br></pre></td></tr></table></figure>

<h1 id="setattr"><a href="#setattr" class="headerlink" title="setattr()"></a>setattr()</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setattr</span><span class="params">(x, y, v)</span>:</span> <span class="comment"># real signature unknown; restored from __doc__</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Sets the named attribute on the given object to the specified value.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    setattr(x, 'y', v) is equivalent to ``x.y = v''</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p><code>setattr()</code>å‡½æ•°ç”¨æ¥ç»™æŒ‡å®šå¯¹è±¡ä¸­çš„æ–¹æ³•é‡æ–°èµ‹å€¼ï¼ˆå°†æ–°çš„å‡½æ•°ä½“/æ–¹æ³•ä½“èµ‹å€¼ç»™æŒ‡å®šçš„å¯¹è±¡åï¼‰ä»…åœ¨æœ¬æ¬¡ç¨‹åºè¿è¡Œçš„å†…å­˜ä¸­ç”Ÿæ•ˆã€‚<code>setattr(x, &#39;y&#39;, v)</code> ç­‰ä»·äº <code>x.y = v</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> commons</span><br><span class="line"></span><br><span class="line">commons.index()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">newindex</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'new ä¸»é¡µé¢!'</span>)</span><br><span class="line"></span><br><span class="line">setattr(commons, <span class="string">'index'</span>, newindex)</span><br><span class="line"></span><br><span class="line">commons.index()</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">ä¸»é¡µé¢</span><br><span class="line">new ä¸»é¡µé¢!</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="import"><a href="#import" class="headerlink" title="__import__"></a>__import__</h1><p>å¥½çš„ï¼Œç½‘ç«™å‘å±•è‡³ä»Šï¼ŒåŠŸèƒ½æœ‰äº†å¾ˆå¤šçš„æ‰©å±•ï¼Œç°åœ¨ä¸€ä¸ªåå°æ–‡ä»¶å·²ç»ä¸èƒ½æ»¡è¶³æˆ‘çš„éœ€æ±‚ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æ ¹æ®èŒèƒ½åˆ’åˆ†åå°æ–‡ä»¶ï¼Œç°åœ¨æˆ‘åˆæ–°å¢äº†ä¸€ä¸ª<code>account.py</code>è¿™ä¸ªç”¨æˆ·ç®¡ç†ç±»çš„æ–‡ä»¶ï¼Œä¹Ÿéœ€è¦å¯¼å…¥åˆ°é¦–é¡µä»¥å¤‡è°ƒç”¨ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘çš„é¦–é¡µé€šè¿‡åå°„ï¼Œåªèƒ½æŒ‡å®š<code>commons</code>æ¨¡å—çš„æ–¹æ³•ä»»æ„è°ƒç”¨ï¼Œç°åœ¨æ–°å¢äº†<code>account</code>æ¨¡å—ï¼Œæ˜¯ä¸æ˜¯æˆ‘åˆè¦åŠ å…¥ifå»åˆ¤æ–­å•¦ï¼Ÿä¸ç”¨ï¼Pythonå·²ç»å¸®æˆ‘ä»¬æƒ³åˆ°è¿™ä¸€ç‚¹äº†ï¼æœ€åæ¬å‡º<code>__import__</code>è¿™ä¸ªå¤§æ•‘æ˜Ÿã€‚</p>
<p>ç”±äºæ¨¡å—çš„å¯¼å…¥ä¹Ÿéœ€è¦ä½¿ç”¨Pythonåå°„çš„ç‰¹æ€§ï¼Œæ‰€ä»¥æ¨¡å—åä¹Ÿè¦åŠ å…¥åˆ°urlä¸­ï¼Œæ‰€ä»¥ç°åœ¨urlè¯·æ±‚å˜æˆäº†ç±»ä¼¼äº<code>commons/index</code>çš„å½¢å¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># account.py</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_user</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'æ·»åŠ ç”¨æˆ·'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">del_user</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'åˆ é™¤ç”¨æˆ·'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># commons.py</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'ç™»å½•é¡µé¢!'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logout</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'é€€å‡ºé¡µé¢!'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'ä¸»é¡µé¢'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># index.py</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    inp = input(<span class="string">'url &gt; '</span>)</span><br><span class="line">    m, f = inp.split(<span class="string">'/'</span>)</span><br><span class="line">    obj_module = __import__(m)</span><br><span class="line">    <span class="keyword">if</span> hasattr(obj_module, f):</span><br><span class="line">        func = getattr(obj_module, f)</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'404'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    run()</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># python3 index.py</span></span><br><span class="line">url &gt; account/add_user</span><br><span class="line">æ·»åŠ ç”¨æˆ·</span><br><span class="line"></span><br><span class="line"><span class="comment"># python3 index.py</span></span><br><span class="line">url &gt; commons/login</span><br><span class="line">ç™»å½•é¡µé¢!</span><br></pre></td></tr></table></figure>

<p>èƒ½ä½“ä¼šåˆ°<code>__import__</code>çš„ä½œç”¨äº†å—ï¼Œå°±æ˜¯æŠŠå­—ç¬¦ä¸²å½“åšæ¨¡å—å»å¯¼å…¥ã€‚<code>import &#39;sys&#39;</code> å’Œ <code>import sys</code> æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸ä¿¡ä½ æ‰§è¡Œä¸€ä¸‹~~è¦æƒ³å¯¼å…¥å­—ç¬¦ä¸²<code>&#39;sys&#39;</code>åªèƒ½é€šè¿‡<code>__import__(&#39;sys&#39;)</code>çš„æ–¹å¼å¯¼å…¥</p>
<p>ç­‰ç­‰ï¼Œè¿˜æ²¡å®Œï¼Œæˆ‘çš„ç½‘ç«™è¿›ä¸€æ­¥ç»†åŒ–åˆ†å·¥ï¼Œç°åœ¨åˆå¤šäº†ä¸€å±‚ç›®å½•ç»“æ„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|- index.py</span><br><span class="line">|- commons.py</span><br><span class="line">|- account.py</span><br><span class="line">|- lib</span><br><span class="line">	|- __init__.py</span><br><span class="line">	|- connectdb.py</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘æƒ³åœ¨<code>index</code>é¡µé¢ä¸­è°ƒç”¨<code>lib</code>åŒ…ä¸‹<code>connectdb</code>æ¨¡å—ä¸­çš„æ–¹æ³•ï¼Œè¿˜æ˜¯ç”¨ä¹‹å‰çš„æ–¹å¼è°ƒç”¨å¯ä»¥å—ï¼Ÿæˆ‘ä»¬è¯•ä¸€ä¸‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    inp = input(<span class="string">'url &gt; '</span>)</span><br><span class="line">    m, f = inp.split(<span class="string">'/'</span>)</span><br><span class="line">    obj_module = __import__(<span class="string">'lib.'</span> + m)</span><br><span class="line">    <span class="keyword">if</span> hasattr(obj_module, f):</span><br><span class="line">        func = getattr(obj_module, f)</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'404'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    run()</span><br><span class="line">    </span><br><span class="line">------------</span><br><span class="line"><span class="number">404</span></span><br></pre></td></tr></table></figure>

<p>å“å‘¦ï¼Œä¸è¡Œå•Šã€‚ä¸Šé¢æˆ‘ä¸ºäº†æµ‹è¯•è°ƒç”¨libä¸‹çš„æ¨¡å—ï¼ŒæŠ›å¼ƒäº†å¯¹æ‰€æœ‰åŒçº§ç›®å½•æ¨¡å—çš„æ”¯æŒï¼Œå¯è¿˜æ˜¯ä¸è¡Œï¼Œå±…ç„¶æ‰¾ä¸åˆ°è¿™ä¸ªè¿™ä¸ªæ¨¡å—çš„è¿™ä¸ªæ–¹æ³•ã€‚è¿˜æ˜¯æ¥çœ‹ä¸‹æºç æ˜¯æ€ä¹ˆè¯´çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__import__</span><span class="params">(name, globals=None, locals=None, fromlist=<span class="params">()</span>, level=<span class="number">0</span>)</span>:</span> <span class="comment"># real signature unknown; restored from __doc__</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    __import__(name, globals=None, locals=None, fromlist=(), level=0) -&gt; module</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Import a module. Because this function is meant for use by the Python</span></span><br><span class="line"><span class="string">    interpreter and not for general use it is better to use</span></span><br><span class="line"><span class="string">    importlib.import_module() to programmatically import a module.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    The globals argument is only used to determine the context;</span></span><br><span class="line"><span class="string">    they are not modified.  The locals argument is unused.  The fromlist</span></span><br><span class="line"><span class="string">    should be a list of names to emulate ``from name import ...'', or an</span></span><br><span class="line"><span class="string">    empty list to emulate ``import name''.</span></span><br><span class="line"><span class="string">    When importing a module from a package, note that __import__('A.B', ...)</span></span><br><span class="line"><span class="string">    returns package A when fromlist is empty, but its submodule B when</span></span><br><span class="line"><span class="string">    fromlist is not empty.  Level is used to determine whether to perform </span></span><br><span class="line"><span class="string">    absolute or relative imports. 0 is absolute while a positive number</span></span><br><span class="line"><span class="string">    is the number of parent directories to search relative to the current module.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p><code>__import__</code>å‡½æ•°ä¸­æœ‰ä¸€ä¸ª<code>fromlist</code>å‚æ•°ï¼Œæºç è§£é‡Šè¯´ï¼Œå¦‚æœåœ¨ä¸€ä¸ªåŒ…ä¸­å¯¼å…¥ä¸€ä¸ªæ¨¡å—ï¼Œè¿™ä¸ªå‚æ•°å¦‚æœä¸ºç©ºï¼Œåˆ™returnè¿™ä¸ªåŒ…å¯¹è±¡ï¼Œå¦‚æœè¿™ä¸ªå‚æ•°ä¸ä¸ºç©ºï¼Œåˆ™è¿”å›åŒ…ä¸‹é¢æŒ‡å®šçš„æ¨¡å—å¯¹è±¡ï¼Œäºæ˜¯åšå‡ºå¦‚ä¸‹ä¿®æ”¹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    inp = input(<span class="string">'url &gt; '</span>)</span><br><span class="line">    m, f = inp.split(<span class="string">'/'</span>)</span><br><span class="line">    obj_module = __import__(<span class="string">'lib.'</span> + m, fromlist=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">if</span> hasattr(obj_module, f):</span><br><span class="line">        func = getattr(obj_module, f)</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'404'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    run()</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">url &gt; connectdb/mysql</span><br><span class="line">å·²è¿æ¥mysql</span><br></pre></td></tr></table></figure>

<p>æˆåŠŸäº†~~ ä½†æ˜¯ä¸ºäº†è¿™æ¬¡æˆåŠŸï¼Œæˆ‘å†™æ­»äº†libå‰ç¼€ï¼Œç›¸å½“äºæŠ›å¼ƒäº†commonså’Œaccountä¸¤ä¸ªå¯¼å…¥çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä»¥ä¸Šä»£ç å¹¶ä¸å®Œå–„ï¼Œéœ€æ±‚å¤æ‚åï¼Œè¿˜æ˜¯éœ€è¦å¯¹è¯·æ±‚çš„urlåšä¸€ä¸‹åˆ¤æ–­</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    inp = input(<span class="string">'url &gt; '</span>)</span><br><span class="line">    <span class="keyword">if</span> len(inp.split(<span class="string">'/'</span>)) == <span class="number">2</span>:</span><br><span class="line">        m, f = inp.split(<span class="string">'/'</span>)</span><br><span class="line">        obj_module = __import__(m)</span><br><span class="line">        <span class="keyword">if</span> hasattr(obj_module, f):</span><br><span class="line">            func = getattr(obj_module, f)</span><br><span class="line">            func()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'404'</span>)</span><br><span class="line">    <span class="keyword">elif</span> len(inp.split(<span class="string">'/'</span>)) == <span class="number">3</span>:</span><br><span class="line">        p, m, f = inp.split(<span class="string">'/'</span>)</span><br><span class="line">        obj_module = __import__(p + <span class="string">'.'</span> + m, fromlist=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">if</span> hasattr(obj_module, f):</span><br><span class="line">            func = getattr(obj_module, f)</span><br><span class="line">            func()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'404'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    run()</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># python3 index.py</span></span><br><span class="line">url &gt; lib/connectdb/mysql</span><br><span class="line">å·²è¿æ¥mysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># python3 index.py</span></span><br><span class="line">url &gt; account/del_user</span><br><span class="line">åˆ é™¤ç”¨æˆ·</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶é‡å¤ä»£ç é‡ä¸é«˜ï¼Œä½†æˆ‘ä»¬ä»è¦æœ‰ä¸€é¢—æ¶ˆé™¤é‡å¤ä»£ç çš„â¤ï¸</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(inp.split(<span class="string">'/'</span>)) == <span class="number">2</span>:</span><br><span class="line">        m, f = inp.split(<span class="string">'/'</span>)</span><br><span class="line">        obj_module = __import__(m)</span><br><span class="line">        getf(obj_module, f)</span><br><span class="line">    <span class="keyword">elif</span> len(inp.split(<span class="string">'/'</span>)) == <span class="number">3</span>:</span><br><span class="line">        p, m, f = inp.split(<span class="string">'/'</span>)</span><br><span class="line">        obj_module = __import__(p + <span class="string">'.'</span> + m, fromlist=<span class="literal">True</span>)</span><br><span class="line">        getf(obj_module, f)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getf</span><span class="params">(m, f)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> hasattr(m, f):</span><br><span class="line">        func = getattr(m, f)</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'404'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    inp = input(<span class="string">'url &gt; '</span>)</span><br><span class="line">    run()</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/15/Python%E5%8A%A0%E5%AF%86%E6%A8%A1%E5%9D%97hashlibx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/15/Python%E5%8A%A0%E5%AF%86%E6%A8%A1%E5%9D%97hashlibx/" class="post-title-link" itemprop="url">PythonåŠ å¯†æ¨¡å—</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-15 22:28:02" itemprop="dateCreated datePublished" datetime="2016-06-15T22:28:02+08:00">2016-06-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/15/Python%E5%8A%A0%E5%AF%86%E6%A8%A1%E5%9D%97hashlibx/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/15/PythonåŠ å¯†æ¨¡å—hashlibx/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>Pythonä¸­çš„hashlibå’ŒhmacåŠ å¯†æ¨¡å—éƒ½æ˜¯å†…ç½®æ¨¡å—ï¼Œå¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œå­—ç¬¦ä¸²åŠ å¯†ï¼Œè¿™äº›åŠ å¯†éƒ½æ˜¯å•å‘çš„ï¼ŒåŠ å¯†åçš„å­—ç¬¦ä¸²ä¸å¯åè§£æˆåŸå­—ç¬¦ä¸²ã€‚ä½†æ˜¯ç”±äºæŸä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ä½¿ç”¨æŸä¸ªå›ºå®šçš„ç®—æ³•å¾—å‡ºçš„åŠ å¯†ä¸²æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æœ‰é€šè¿‡æ’åº“æ¥åè§£å‡ºå¯†ç çš„å±é™©</p>
<p>Python Version: 3.5+</p>
</blockquote>
<h1 id="hashlibæ¨¡å—"><a href="#hashlibæ¨¡å—" class="headerlink" title="hashlibæ¨¡å—"></a>hashlibæ¨¡å—</h1><h2 id="md5"><a href="#md5" class="headerlink" title="md5"></a>md5</h2><p>hashlibæ¨¡å—ç”¨äºåŠ å¯†ç›¸å…³çš„æ“ä½œï¼Œä»£æ›¿äº†md5æ¨¡å—å’Œshaæ¨¡å—ï¼Œä¸»è¦æä¾› SHA1, SHA224, SHA256, SHA384, SHA512 ï¼ŒMD5 ç®—æ³•</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># md5</span></span><br><span class="line"><span class="comment"># åˆ›å»ºmd5å¯¹è±¡</span></span><br><span class="line">hash = hashlib.md5()</span><br><span class="line"><span class="comment"># updateæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå­—èŠ‚ç±»å‹çš„æ•°æ®æ˜¯Python3+ä¸­çš„å¼ºåˆ¶è¦æ±‚</span></span><br><span class="line">hash.update(bytes(<span class="string">'polarsnow'</span>, encoding=<span class="string">'utf8'</span>))</span><br><span class="line"><span class="comment"># è¿”å›ä¸€ä¸ªåå…­è¿›åˆ¶çš„å­—ç¬¦ä¸²</span></span><br><span class="line">print(hash.hexdigest())</span><br><span class="line"><span class="comment"># è¿”å›ä¸€ä¸ªäºŒè¿›åˆ¶çš„å­—ç¬¦ä¸²</span></span><br><span class="line">print(hash.digest())</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="number">72</span>c5c8f4fcfeb39c1ebce3be56ebb9f8</span><br><span class="line"><span class="string">b'r\xc5\xc8\xf4\xfc\xfe\xb3\x9c\x1e\xbc\xe3\xbeV\xeb\xb9\xf8'</span></span><br></pre></td></tr></table></figure>

<h2 id="sha1"><a href="#sha1" class="headerlink" title="sha1"></a>sha1</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># sha1</span></span><br><span class="line"><span class="comment"># åˆ›å»ºsha1å¯¹è±¡</span></span><br><span class="line">hash = hashlib.sha1()</span><br><span class="line"><span class="comment"># æŒ‰ç…§æŒ‡å®šçš„å­—ç¬¦ç¼–ç åŠ å¯†å­—ç¬¦ä¸²</span></span><br><span class="line">hash.update(bytes(<span class="string">'polarsnow'</span>, encoding=<span class="string">'utf8'</span>))</span><br><span class="line">print(hash.hexdigest())</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="number">299</span>a06d4672c5a57facee0cf132593132084a3c0</span><br></pre></td></tr></table></figure>

<h2 id="sha256"><a href="#sha256" class="headerlink" title="sha256"></a>sha256</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># sha256</span></span><br><span class="line">hash = hashlib.sha256()</span><br><span class="line">hash.update(bytes(<span class="string">'polarsnow'</span>, encoding=<span class="string">'utf8'</span>))</span><br><span class="line">print(hash.hexdigest())</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">f379eefa6d3a0447d807d679dbd02f0593e8b3c3377da53dd909d98b4dcac9ad</span><br></pre></td></tr></table></figure>

<h2 id="sha384"><a href="#sha384" class="headerlink" title="sha384"></a>sha384</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># sha384</span></span><br><span class="line">hash = hashlib.sha384()</span><br><span class="line">hash.update(bytes(<span class="string">'polarsnow'</span>, encoding=<span class="string">'utf8'</span>))</span><br><span class="line">print(hash.hexdigest())</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="number">768e16</span>e89a691905e7e2413fc67ba2846a39a3d2dd064a7930eb54c36e58a2694b5bf57ca7bb52cea0ad33feaf718ad6</span><br></pre></td></tr></table></figure>

<h2 id="sha512"><a href="#sha512" class="headerlink" title="sha512"></a>sha512</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># sha512</span></span><br><span class="line">hash = hashlib.sha512()</span><br><span class="line">hash.update(bytes(<span class="string">'polarsnow'</span>, encoding=<span class="string">'utf8'</span>))</span><br><span class="line">print(hash.hexdigest())</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">ef510ae0c752261359b87e8260b1a8d90a1d9bc373fd5a107e091e9340d60877909b1e7996c32ecb5a571378815aa524e284a65d7d91d33b8fe29f1376ff048e</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="è‡ªå®šä¹‰keyåŠ å¯†"><a href="#è‡ªå®šä¹‰keyåŠ å¯†" class="headerlink" title="è‡ªå®šä¹‰keyåŠ å¯†"></a>è‡ªå®šä¹‰keyåŠ å¯†</h2><p>ä¸Šé¢çš„åŠ å¯†ç®—æ³•è™½ç„¶å·²ç»è¶³å¤Ÿå¼ºå¤§ï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ç¼ºé™·ï¼Œå³å¯ä»¥é€šè¿‡æ’åº“åè§£å¯†ç ã€‚æ‰€ä»¥ï¼Œæœ‰å¿…è¦å¯¹åŠ å¯†ç®—æ³•ä¸­æ·»åŠ è‡ªå®šä¹‰keyå†æ¥åšåŠ å¯†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># md5</span></span><br><span class="line">hash = hashlib.md5(bytes(<span class="string">'9ol4rfv'</span>, encoding=<span class="string">'utf8'</span>))</span><br><span class="line">hash.update(bytes(<span class="string">'polarsnow'</span>, encoding=<span class="string">'utf8'</span>))</span><br><span class="line"><span class="comment"># è¿”å›ä¸€ä¸ªåå…­è¿›åˆ¶çš„å­—ç¬¦ä¸²</span></span><br><span class="line">print(hash.hexdigest()</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="number">6e4257</span>d3855aaf563ce5c8d499156137</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="hmacæ¨¡å—"><a href="#hmacæ¨¡å—" class="headerlink" title="hmacæ¨¡å—"></a>hmacæ¨¡å—</h1><p>hmac æ¨¡å—ï¼Œå®ƒå†…éƒ¨å¯¹æˆ‘ä»¬åˆ›å»º key å’Œ å†…å®¹ è¿›è¡Œè¿›ä¸€æ­¥çš„å¤„ç†ç„¶åå†åŠ å¯†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hmac</span><br><span class="line"></span><br><span class="line">h = hmac.new(bytes(<span class="string">'9ol4rfv'</span>, encoding=<span class="string">"utf-8"</span>))</span><br><span class="line">h.update(bytes(<span class="string">'polarsnow'</span>, encoding=<span class="string">"utf-8"</span>))</span><br><span class="line">print(h.hexdigest())</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="number">2</span>d7acf84247e563213d0ec8e325831ba</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/15/Python%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/15/Python%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9D%97/" class="post-title-link" itemprop="url">Pythonç³»ç»Ÿæ¨¡å—</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-15 21:38:40" itemprop="dateCreated datePublished" datetime="2016-06-15T21:38:40+08:00">2016-06-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/15/Python%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9D%97/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/15/Pythonç³»ç»Ÿæ¨¡å—/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>Pythonä¸‹æœ‰ä¸¤ä¸ªç³»ç»Ÿæ¨¡å—<code>sys</code> <code>os</code>ï¼Œ<code>sys</code>æ¨¡å—ç”¨äºæä¾›å¯¹Pythonè§£é‡Šå™¨ç›¸å…³çš„æ“ä½œï¼›<code>os</code>æ¨¡å—ç”¨äºæä¾›ç³»ç»Ÿçº§åˆ«çš„æ“ä½œ</p>
<p>Python Version: 3.5+</p>
</blockquote>
<h1 id="sys"><a href="#sys" class="headerlink" title="sys"></a>sys</h1><p>sysæ¨¡å—ä¸­å¸¸ç”¨çš„å‡½æ•°</p>
<ul>
<li>sys.argv           å‘½ä»¤è¡Œå‚æ•°Listï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ç¨‹åºæœ¬èº«è·¯å¾„</li>
<li>sys.exit(n)        é€€å‡ºç¨‹åºï¼Œæ­£å¸¸é€€å‡ºæ—¶exit(0)</li>
<li>sys.version        è·å–Pythonè§£é‡Šç¨‹åºçš„ç‰ˆæœ¬ä¿¡æ¯</li>
<li>sys.maxint         æœ€å¤§çš„Intå€¼</li>
<li>sys.path           è¿”å›æ¨¡å—çš„æœç´¢è·¯å¾„ï¼Œåˆå§‹åŒ–æ—¶ä½¿ç”¨PYTHONPATHç¯å¢ƒå˜é‡çš„å€¼</li>
<li>sys.platform       è¿”å›æ“ä½œç³»ç»Ÿå¹³å°åç§°</li>
<li>sys.stdin          è¾“å…¥ç›¸å…³</li>
<li>sys.stdout         è¾“å‡ºç›¸å…³</li>
<li>sys.stderror       é”™è¯¯ç›¸å…³</li>
</ul>
<h1 id="os"><a href="#os" class="headerlink" title="os"></a>os</h1><ul>
<li>os.getcwd()                 è·å–å½“å‰å·¥ä½œç›®å½•ï¼Œå³å½“å‰pythonè„šæœ¬å·¥ä½œçš„ç›®å½•è·¯å¾„</li>
<li>os.chdir(â€œdirnameâ€)         æ”¹å˜å½“å‰è„šæœ¬å·¥ä½œç›®å½•ï¼›ç›¸å½“äºshellä¸‹cd</li>
<li>os.curdir                   è¿”å›å½“å‰ç›®å½•: (â€˜.â€™)</li>
<li>os.pardir                   è·å–å½“å‰ç›®å½•çš„çˆ¶ç›®å½•å­—ç¬¦ä¸²åï¼š(â€˜..â€™)</li>
<li>os.makedirs(â€˜dir1/dir2â€™)    å¯ç”Ÿæˆå¤šå±‚é€’å½’ç›®å½•</li>
<li>os.removedirs(â€˜dirname1â€™)   è‹¥ç›®å½•ä¸ºç©ºï¼Œåˆ™åˆ é™¤ï¼Œå¹¶é€’å½’åˆ°ä¸Šä¸€çº§ç›®å½•ï¼Œå¦‚è‹¥ä¹Ÿä¸ºç©ºï¼Œåˆ™åˆ é™¤ï¼Œä¾æ­¤ç±»æ¨</li>
<li>os.mkdir(â€˜dirnameâ€™)         ç”Ÿæˆå•çº§ç›®å½•ï¼›ç›¸å½“äºshellä¸­mkdir dirname</li>
<li>os.rmdir(â€˜dirnameâ€™)         åˆ é™¤å•çº§ç©ºç›®å½•ï¼Œè‹¥ç›®å½•ä¸ä¸ºç©ºåˆ™æ— æ³•åˆ é™¤ï¼ŒæŠ¥é”™ï¼›ç›¸å½“äºshellä¸­rmdir dirname</li>
<li>os.listdir(â€˜dirnameâ€™)       åˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ï¼Œå¹¶ä»¥åˆ—è¡¨æ–¹å¼æ‰“å°</li>
<li>os.remove()                 åˆ é™¤ä¸€ä¸ªæ–‡ä»¶</li>
<li>os.rename(â€œoldnameâ€,â€newâ€)  é‡å‘½åæ–‡ä»¶/ç›®å½•</li>
<li>os.stat(â€˜path/filenameâ€™)    è·å–æ–‡ä»¶/ç›®å½•ä¿¡æ¯</li>
<li>os.sep                      æ“ä½œç³»ç»Ÿç‰¹å®šçš„è·¯å¾„åˆ†éš”ç¬¦ï¼Œwinä¸‹ä¸ºâ€\â€œ,Linuxä¸‹ä¸ºâ€/â€œ</li>
<li>os.linesep                  å½“å‰å¹³å°ä½¿ç”¨çš„è¡Œç»ˆæ­¢ç¬¦ï¼Œwinä¸‹ä¸ºâ€\t\nâ€,Linuxä¸‹ä¸ºâ€\nâ€</li>
<li>os.pathsep                  ç”¨äºåˆ†å‰²æ–‡ä»¶è·¯å¾„çš„å­—ç¬¦ä¸²</li>
<li>os.name                     å­—ç¬¦ä¸²æŒ‡ç¤ºå½“å‰ä½¿ç”¨å¹³å°ã€‚win-&gt;â€™ntâ€™; Linux-&gt;â€™posixâ€™</li>
<li>os.system(â€œbash commandâ€)   è¿è¡Œshellå‘½ä»¤ï¼Œç›´æ¥æ˜¾ç¤º</li>
<li>os.environ                  è·å–ç³»ç»Ÿç¯å¢ƒå˜é‡</li>
<li>os.path.abspath(path)       è¿”å›pathè§„èŒƒåŒ–çš„ç»å¯¹è·¯å¾„</li>
<li>os.path.split(path)         å°†pathåˆ†å‰²æˆç›®å½•å’Œæ–‡ä»¶åäºŒå…ƒç»„è¿”å›</li>
<li>os.path.dirname(path)       è¿”å›pathçš„ç›®å½•ã€‚å…¶å®å°±æ˜¯os.path.split(path)çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>os.path.basename(path)      è¿”å›pathæœ€åçš„æ–‡ä»¶åã€‚å¦‚ä½•pathä»¥ï¼æˆ–\ç»“å°¾ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›ç©ºå€¼ã€‚å³os.path.split(path)çš„ç¬¬äºŒä¸ªå…ƒç´ </li>
<li>os.path.exists(path)        å¦‚æœpathå­˜åœ¨ï¼Œè¿”å›Trueï¼›å¦‚æœpathä¸å­˜åœ¨ï¼Œè¿”å›False</li>
<li>os.path.isabs(path)         å¦‚æœpathæ˜¯ç»å¯¹è·¯å¾„ï¼Œè¿”å›True</li>
<li>os.path.isfile(path)        å¦‚æœpathæ˜¯ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ï¼Œè¿”å›Trueã€‚å¦åˆ™è¿”å›False</li>
<li>os.path.isdir(path)         å¦‚æœpathæ˜¯ä¸€ä¸ªå­˜åœ¨çš„ç›®å½•ï¼Œåˆ™è¿”å›Trueã€‚å¦åˆ™è¿”å›False</li>
<li>os.path.join(path1[, path2[, â€¦]])  å°†å¤šä¸ªè·¯å¾„ç»„åˆåè¿”å›ï¼Œç¬¬ä¸€ä¸ªç»å¯¹è·¯å¾„ä¹‹å‰çš„å‚æ•°å°†è¢«å¿½ç•¥</li>
<li>os.path.getatime(path)      è¿”å›pathæ‰€æŒ‡å‘çš„æ–‡ä»¶æˆ–è€…ç›®å½•çš„æœ€åå­˜å–æ—¶é—´</li>
<li>os.path.getmtime(path)      è¿”å›pathæ‰€æŒ‡å‘çš„æ–‡ä»¶æˆ–è€…ç›®å½•çš„æœ€åä¿®æ”¹æ—¶é—´</li>
</ul>

      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/15/Python%E5%AE%9E%E7%8E%B0%E7%BB%88%E7%AB%AF%E4%B8%8B%E7%9A%84%E8%BF%9B%E5%BA%A6%E6%9D%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/15/Python%E5%AE%9E%E7%8E%B0%E7%BB%88%E7%AB%AF%E4%B8%8B%E7%9A%84%E8%BF%9B%E5%BA%A6%E6%9D%A1/" class="post-title-link" itemprop="url">Pythonå®ç°ç»ˆç«¯ä¸‹çš„è¿›åº¦æ¡</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-15 16:34:30" itemprop="dateCreated datePublished" datetime="2016-06-15T16:34:30+08:00">2016-06-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/15/Python%E5%AE%9E%E7%8E%B0%E7%BB%88%E7%AB%AF%E4%B8%8B%E7%9A%84%E8%BF%9B%E5%BA%A6%E6%9D%A1/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/15/Pythonå®ç°ç»ˆç«¯ä¸‹çš„è¿›åº¦æ¡/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>æœ¬ç¯‡æ–‡ç« ä»‹ç»åœ¨Pythonä¸‹å®ç°è¿›åº¦æ¡çš„å‡ ç§æ–¹æ³•</p>
<p>Python Version: 3.5+</p>
</blockquote>
<h1 id="ç¬¬ä¸€ç§ï¼šç®€å•çš„å­—ç¬¦æ‹¼æ¥"><a href="#ç¬¬ä¸€ç§ï¼šç®€å•çš„å­—ç¬¦æ‹¼æ¥" class="headerlink" title="ç¬¬ä¸€ç§ï¼šç®€å•çš„å­—ç¬¦æ‹¼æ¥"></a>ç¬¬ä¸€ç§ï¼šç®€å•çš„å­—ç¬¦æ‹¼æ¥</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ç»ˆç«¯çš„å®½åº¦</span></span><br><span class="line">w = os.get_terminal_size().columns</span><br><span class="line"><span class="comment"># -5ä¸ªå­—ç¬¦æ˜¯ä¸ºäº†ä¸ºåé¢'&gt;100%'ç•™åœ°æ–¹</span></span><br><span class="line"><span class="comment"># æ‰€ä»¥'-'æ‰€å ç”¨çš„æœ€å¤§å®½åº¦ä¸ºæ€»ç»ˆç«¯å®½åº¦-5</span></span><br><span class="line"><span class="comment"># ç„¶åè®¡ç®—å‡ºæ¯å¢é•¿1%éœ€è¦å¢é•¿å‡ ä¸ª'-'å­—ç¬¦</span></span><br><span class="line">item = (w - <span class="number">5</span>) / <span class="number">100</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">view_bar</span><span class="params">(num, total)</span>:</span></span><br><span class="line">	<span class="comment"># è®¡ç®—å‡ºè¿›åº¦ç™¾åˆ†æ¯”</span></span><br><span class="line">    rate = num / total</span><br><span class="line">    rate_num = int(rate * <span class="number">100</span>)</span><br><span class="line">    <span class="comment"># int(rate_num*item) æ ¹æ®å½“å‰è¿›åº¦è®¡ç®—å‡ºéœ€è¦å¤šå°‘ä¸ª'-'å­—ç¬¦ï¼ˆå–æ•´æ•°ï¼‰å­—ç¬¦ä¸²ä¸­çš„\ræ˜¯å¿…é¡»å­˜åœ¨çš„</span></span><br><span class="line">    r1 = <span class="string">'\r%s&gt;%d%%'</span> %(<span class="string">"-"</span> * int(rate_num*item), rate_num)</span><br><span class="line">    <span class="comment"># åœ¨ç»ˆç«¯ä¸­è¾“å‡ºï¼ˆä¸æ¢è¡Œï¼‰</span></span><br><span class="line">    sys.stdout.write(r1)</span><br><span class="line">    sys.stdout.flush()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">101</span>):</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    view_bar(i, <span class="number">100</span>)</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œç‰¹åˆ«è¯´æ˜ä¸‹ï¼Œä¸Šé¢çš„ä»£ç ä¸­ï¼Œè·å–ç»ˆç«¯å®½åº¦çš„æ–¹æ³•<code>os.get_terminal_size().columns</code>æ˜¯Python3+ç‰ˆæœ¬ä¸­çš„æ–°åŠŸèƒ½ï¼Œå¦‚æœæ˜¯2+çš„Pythonï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–ç»ˆç«¯å®½åº¦</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> curses</span><br><span class="line">screen = curses.initscr()</span><br><span class="line">height, width = screen.getmaxyx()</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬äºŒç§ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—"><a href="#ç¬¬äºŒç§ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—" class="headerlink" title="ç¬¬äºŒç§ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—"></a>ç¬¬äºŒç§ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—</h1><p>æ„Ÿå—ä¸‹<del>~ æ˜¯ä¸æ˜¯ç¬é—´ä¸æƒ³é‡å¤é€ è½®å­äº†</del></p>
<h2 id="progressive"><a href="#progressive" class="headerlink" title="progressive"></a>progressive</h2><p><img src="http://20150509.oss-cn-qingdao.aliyuncs.com/20160615171759.gif" alt=""></p>
<h2 id="progressbar"><a href="#progressbar" class="headerlink" title="progressbar"></a>progressbar</h2><p><img src="http://20150509.oss-cn-qingdao.aliyuncs.com/20160615173459.png" alt=""></p>

      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/15/Python%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/15/Python%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97/" class="post-title-link" itemprop="url">Pythonå¯¼å…¥æ¨¡å—</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-15 00:34:45" itemprop="dateCreated datePublished" datetime="2016-06-15T00:34:45+08:00">2016-06-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/15/Python%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/15/Pythonå¯¼å…¥æ¨¡å—/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>æ¨¡å—ï¼Œå³æŸä¸ªåŠŸèƒ½ä»£ç çš„é›†åˆ</p>
</blockquote>
<h1 id="å¯¼å…¥æ¨¡å—çš„åŸºæœ¬æ–¹æ³•"><a href="#å¯¼å…¥æ¨¡å—çš„åŸºæœ¬æ–¹æ³•" class="headerlink" title="å¯¼å…¥æ¨¡å—çš„åŸºæœ¬æ–¹æ³•"></a>å¯¼å…¥æ¨¡å—çš„åŸºæœ¬æ–¹æ³•</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> module</span><br><span class="line"><span class="keyword">from</span> module.xx.xx <span class="keyword">import</span> xx</span><br><span class="line"><span class="keyword">from</span> module.xx.xx <span class="keyword">import</span> xx <span class="keyword">as</span> rename </span><br><span class="line"><span class="keyword">from</span> module.xx.xx <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>

<p>å¯¼å…¥æ¨¡å—å…¶å®å°±æ˜¯å‘Šè¯‰Pythonè§£é‡Šå™¨å»è§£é‡Šé‚£ä¸ªpyæ–‡ä»¶</p>
<ul>
<li>å¯¼å…¥ä¸€ä¸ªpyæ–‡ä»¶ï¼Œè§£é‡Šå™¨è§£é‡Šè¯¥pyæ–‡ä»¶</li>
<li>å¯¼å…¥ä¸€ä¸ªåŒ…ï¼Œè§£é‡Šå™¨è§£é‡Šè¯¥åŒ…ä¸‹çš„ <code>__init__.py</code> æ–‡ä»¶</li>
</ul>
<h1 id="å¯¼å…¥æ¨¡å—çš„è·¯å¾„"><a href="#å¯¼å…¥æ¨¡å—çš„è·¯å¾„" class="headerlink" title="å¯¼å…¥æ¨¡å—çš„è·¯å¾„"></a>å¯¼å…¥æ¨¡å—çš„è·¯å¾„</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path</span><br><span class="line">[<span class="string">''</span>, <span class="string">'/Library/Frameworks/Python.framework/Versions/3.5/lib/python35.zip'</span>, <span class="string">'/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5'</span>, <span class="string">'/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/plat-darwin'</span>, <span class="string">'/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload'</span>, <span class="string">'/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages'</span>]</span><br></pre></td></tr></table></figure>

<h1 id="å¯¼å…¥æŒ‡å®šè·¯å¾„çš„æ¨¡å—"><a href="#å¯¼å…¥æŒ‡å®šè·¯å¾„çš„æ¨¡å—" class="headerlink" title="å¯¼å…¥æŒ‡å®šè·¯å¾„çš„æ¨¡å—"></a>å¯¼å…¥æŒ‡å®šè·¯å¾„çš„æ¨¡å—</h1><p>åŠ å…¥éœ€è¦å¯¼å…¥sys.pathä¸­ä¸å­˜åœ¨çš„è·¯å¾„ä¸‹çš„æ¨¡å—ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨æ·»åŠ æŒ‡å®šè·¯å¾„åˆ°sys.pathä¸­ï¼ˆä»…å½“æ¬¡ç”Ÿæ•ˆï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ ä¸Šä¸Šçº§ç›®å½•åˆ°pathä¸­</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">project_path = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))</span><br><span class="line">sys.path.append(project_path)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>__file__</code> è·å–ä»¥å½“å‰è·¯å¾„ä¸ºåŸºå‡†çš„æ–‡ä»¶ç›¸å¯¹è·¯å¾„</li>
<li><code>os.path.abspath(__file__)</code> è·å–å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</li>
<li><code>os.path.dirname(os.path.abspath(__file__))</code> è·å–å½“å‰æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ï¼ˆä¸Šçº§ç›®å½•ï¼‰</li>
<li><code>os.path.dirname(os.path.dirname(os.path.abspath(__file__)))</code> è·å–å½“å‰æ–‡ä»¶çš„ä¸Šä¸Šçº§ç›®å½•</li>
</ul>
<h1 id="æ¨¡å—ä¸­çš„ç‰¹æ®Šå˜é‡"><a href="#æ¨¡å—ä¸­çš„ç‰¹æ®Šå˜é‡" class="headerlink" title="æ¨¡å—ä¸­çš„ç‰¹æ®Šå˜é‡"></a>æ¨¡å—ä¸­çš„ç‰¹æ®Šå˜é‡</h1><ul>
<li><p>__doc__ è·å–æ¨¡å—å®ç°åŠŸèƒ½çš„ç®€å•æè¿°</p>
</li>
<li><p>__file__ è·å–ä»¥å½“å‰è·¯å¾„ä¸ºåŸºå‡†çš„æ–‡ä»¶ç›¸å¯¹è·¯å¾„</p>
</li>
<li><p>__package__ è·å–è¯¥æ–‡ä»¶çš„ä¸Šå±‚åŒ…å</p>
</li>
<li><p>__cached__ å®é™…è¢«å¯¼å…¥çš„ç¼“å­˜æ–‡ä»¶ç»å¯¹è·¯å¾„</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> maopao</span><br><span class="line"></span><br><span class="line">print(maopao.__cached__)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">/Users/lvrui/PycharmProjects/untitled/<span class="number">6</span>/c/__pycache__/maopao.cpython<span class="number">-35.</span>pyc</span><br></pre></td></tr></table></figure>

<ul>
<li>__name__ è·å–æ¨¡å—/æ–‡ä»¶çš„è°ƒç”¨è€…</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># maopao.py</span></span><br><span class="line">print(__name__)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># test.py</span></span><br><span class="line"><span class="keyword">import</span> maopao</span><br><span class="line"></span><br><span class="line">print(__name__)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">maopao</span><br><span class="line">__main__</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/13/Python%E5%86%92%E6%B3%A1-%E9%80%89%E6%8B%A9-%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/13/Python%E5%86%92%E6%B3%A1-%E9%80%89%E6%8B%A9-%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3/" class="post-title-link" itemprop="url">Pythonå†’æ³¡ é€‰æ‹© æ’å…¥æ’åºç®—æ³•è¯¦è§£</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-13 23:03:22" itemprop="dateCreated datePublished" datetime="2016-06-13T23:03:22+08:00">2016-06-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">ç®—æ³•</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/13/Python%E5%86%92%E6%B3%A1-%E9%80%89%E6%8B%A9-%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/13/Pythonå†’æ³¡-é€‰æ‹©-æ’å…¥æ’åºç®—æ³•è¯¦è§£/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h1><p>å†’æ³¡æ’åºçš„åŸç†æ˜¯ä¸¤ä¸ªå…ƒç´ ç›¸é‚»çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå°çš„æ•°æ”¾åœ¨å‰é¢ï¼Œå¤§çš„æ•°æ”¾åœ¨åé¢ã€‚</p>
<p>ç¬¬ä¸€æ¬¡æ’åºï¼šé¦–å…ˆæ¯”è¾ƒç¬¬1ä¸ªæ•°å­—å’Œç¬¬2ä¸ªæ•°å­—ï¼Œå°æ•°æ”¾å‰ï¼Œå¤§æ•°æ”¾åï¼›ç„¶åæ¯”è¾ƒç¬¬2ä¸ªæ•°å’Œç¬¬3ä¸ªæ•°ï¼Œå°æ•°æ”¾å‰ï¼Œå¤§æ•°æ”¾åâ€¦â€¦ä»¥æ­¤ç±»æ¨ï¼Œæ‰¾åˆ°å€’æ•°ç¬¬äºŒä¸ªæ•°å­—å’Œæœ€åä¸€ä¸ªæ•°å­—è¿›è¡Œæ¯”è¾ƒï¼Œé¦–æ¬¡æ’åºä¼šå°†é˜Ÿåˆ—ä¸­æœ€å¤§çš„æ•°å­—æ”¾åœ¨æœ€åä¸€ä½</p>
<p>ç¬¬äºŒæ¬¡æ’åºï¼šè¿˜æ˜¯ä»ç¬¬1ä½å¼€å§‹å’Œç¬¬2ä½æ¯”è¾ƒï¼Œå°æ•°æ”¾å‰ï¼Œå¤§æ•°æ”¾åâ€¦â€¦ä¸€ç›´æ¯”åˆ°å€’æ•°ç¬¬äºŒä¸ªæ•°ï¼ˆå› ä¸ºå€’æ•°ç¬¬ä¸€ä¸ªæ•°åœ¨ç¬¬ä¸€æ¬¡æ’åºä¸­å·²ç»ç¡®å®šæ˜¯æœ€å¤§å€¼äº†ï¼‰</p>
<p>ä»¥æ­¤ç±»æ¨ï¼Œé‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œç›´åˆ°æœ€ç»ˆæ’åºå®Œæ¯•ã€‚</p>
<p>ç”±äºæ’åºè¿‡ç¨‹ä¸­ï¼Œæ°¸è¿œæ˜¯å°æ•°å¾€å‰æ”¾ï¼Œå¤§æ•°å¾€åæ”¾ï¼Œç±»ä¼¼äºæ°”æ³¡ä¸Šå‡ï¼Œæ‰€ä»¥è¢«ç§°ä¹‹ä¸ºå†’æ³¡æ’åºï¼Œæ¥ä¸‹æ¥é€šè¿‡Pythonä»£ç æ¥æ¼”ç¤ºå†’æ³¡æ’åºçš„è¿‡ç¨‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¦–å…ˆæ¥ç›´è§‚æ„Ÿå—ä¸€ä¸‹å†’æ³¡æ’åºçš„ä»£ç </span></span><br><span class="line">l = [<span class="number">34</span>, <span class="number">16</span>, <span class="number">78</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(l) - <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>):</span><br><span class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> range(j):</span><br><span class="line">        <span class="keyword">if</span> l[i] &gt; l[i+<span class="number">1</span>]:</span><br><span class="line">            l[i], l[i+<span class="number">1</span>] = l[i+<span class="number">1</span>], l[i]</span><br><span class="line">            </span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä¸€æ­¥ä¸€æ­¥å®ç°ä¸Šé¢çš„ä»£ç </p>
<h2 id="é¦–æ¬¡å¾ªç¯"><a href="#é¦–æ¬¡å¾ªç¯" class="headerlink" title="é¦–æ¬¡å¾ªç¯"></a>é¦–æ¬¡å¾ªç¯</h2><p>éœ€è¦ç›¸é‚»ä¸¤ä¸ªæ•°è¿›è¡Œæ¯”è¾ƒï¼Œå°å€¼æ”¾å‰ï¼Œå¤§å€¼æ”¾åã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¦–å…ˆéœ€è¦ç¡®å®šå¾ªç¯å¤šå°‘æ¬¡</span></span><br><span class="line"><span class="comment"># å¾ªç¯åˆ°æ¯ä¸ªå…ƒç´ éœ€è¦ len(l) æ¬¡, å¯¹åº”éå†çš„ç´¢å¼•ä¸‹æ ‡æ˜¯ range(len(l))</span></span><br><span class="line"><span class="comment"># ç”±äºæ˜¯ä¸¤ä¸¤æ¯”è¾ƒï¼Œæœ€åä¸€æ¬¡æ¯”è¾ƒï¼Œå–å¾—çš„æ˜¯å€’æ•°ç¬¬äºŒä¸ª len(l) - 2 è¿™ä¸ªå…ƒç´ ï¼Œå»å’Œæœ€åä¸€ä¸ªå…ƒç´  len(l) - 1 è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line"><span class="comment"># æ‰€ä»¥å®é™…éœ€è¦éå†çš„æ¬¡æ•°æ¯”è¿™ä¸ªåˆ—è¡¨çš„æ€»é•¿åº¦è¦å°‘1</span></span><br><span class="line"><span class="comment"># è€Œrangeæœ‰ä»0å¼€å§‹ä¸”å·¦é—­å³å¼€çš„ç‰¹æ€§ï¼Œæ‰€ä»¥åœ¨rangeä¸­åªéœ€-1ï¼Œè‡³æ­¤å¯ä»¥ç¡®å®šéœ€è¦éå†ä¸‹è¡¨çš„ç´¢å¼•å°±æ˜¯ range(len(l) - 1)</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(l) - <span class="number">1</span>):</span><br><span class="line">	<span class="comment"># é‡Œé¢çš„åˆ¤æ–­å¾ˆç®€å•ï¼Œæ ¹æ®å†’æ³¡ç®—æ³•çš„æ ¸å¿ƒåŸç†</span></span><br><span class="line">	<span class="comment"># åˆ¤æ–­å½“å‰å…ƒç´ å’Œä¸‹ä¸€ä¸ªå…ƒç´ çš„å¤§å°ï¼Œå°æ”¾å‰ï¼Œå¤§æ”¾å</span></span><br><span class="line">    <span class="keyword">if</span> l[i] &gt; l[i + <span class="number">1</span>]:</span><br><span class="line">    	<span class="comment"># å¦‚æœå½“å‰å…ƒç´ å¤§äºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™äº¤æ¢ä¸¤ä¸ªå€¼å¾—ä½ç½®</span></span><br><span class="line">        l[i], l[i + <span class="number">1</span>] = l[i + <span class="number">1</span>], l[i]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡³æ­¤ï¼Œå®Œæˆäº†å†’æ³¡æ’åºçš„ç¬¬ä¸€æ¬¡å¾ªç¯</span></span><br><span class="line"><span class="comment"># låˆ—è¡¨ä¸­æœ‰7ä¸ªå…ƒç´ ï¼Œåˆ™len(l) == 7</span></span><br><span class="line"><span class="comment"># å®é™…åªéœ€éå†6ä¸ªå…ƒç´ å³å¯ len(l) - 1 == 6</span></span><br><span class="line"><span class="comment"># æ ¹æ®å¾—åˆ°çš„éœ€è¦éå†çš„æ€»å…ƒç´ ä¸ªæ•°ï¼Œå»ç”Ÿæˆä¸€ä¸²ç´¢å¼•éå†æ•°ç»„</span></span><br><span class="line"><span class="comment"># range(6) --&gt; 0 1 2 3 4 5 ä»0å¼€å§‹ä¸”å·¦é—­å³å¼€</span></span><br><span class="line"><span class="comment"># è¿™æ ·å°±å–åˆ°äº†éœ€è¦éå†å…ƒç´ çš„ç´¢å¼•</span></span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">[<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å†æ¥çœ‹ä¸ªè¯¦ç»†è¾“å‡ºæ¯æ¬¡äº¤æ¢ä¿¡æ¯çš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(l) - <span class="number">1</span>): </span><br><span class="line">    print(<span class="string">'æ¯”è¾ƒ:'</span>, l[i], l[i+<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">if</span> l[i] &gt; l[i + <span class="number">1</span>]: </span><br><span class="line">        l[i], l[i + <span class="number">1</span>] = l[i + <span class="number">1</span>], l[i]</span><br><span class="line">        print(<span class="string">'äº¤æ¢åçš„æ•°ç»„:'</span>, l)</span><br><span class="line">        </span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">16</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">78</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">78</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">2</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">78</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">37</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">78</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">56</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>, <span class="number">78</span>]</span><br><span class="line">[<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<h1 id="ä¾æ¬¡å¾ªç¯"><a href="#ä¾æ¬¡å¾ªç¯" class="headerlink" title="ä¾æ¬¡å¾ªç¯"></a>ä¾æ¬¡å¾ªç¯</h1><p>é¦–æ¬¡å¾ªç¯ä¹‹åï¼Œå·²ç»é€‰å‡ºäº†åˆ—è¡¨ä¸­çš„æœ€å¤§å€¼å¹¶æ”¾åˆ°äº†æœ€åä¸€ä½ï¼Œæ¥ä¸‹æ¥è¦åšçš„æ˜¯å†æ¬¡å¾ªç¯ï¼Œé€‰æ‹©ç¬¬äºŒå¤§çš„æ•°å­—æ”¾åœ¨å€’æ•°ç¬¬äºŒä½</p>
<p>è€Œä¸Šé¢å·²ç»å®ç°äº†é¦–æ¬¡å¾ªç¯ï¼Œç°åœ¨æˆ‘éœ€è¦åœ¨è¿™æ¬¡åŸºæœ¬å¾ªç¯å¤–ï¼Œå†å¥—ä¸Šä¸€å±‚å¾ªç¯ï¼Œç”±å¤–å±‚å¾ªç¯æ§åˆ¶å†…å±‚çš„å¾ªç¯æ€»å…±å¾ªç¯6æ¬¡ã€‚è¿™ä¸ªè¡¨è¾¾å¼å¾ˆå¥½å†™<code>range(len(l) - 1)</code> å°±èƒ½å¾—åˆ°6æ¬¡å¾ªç¯ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯<code>0 1 2 3 4 5</code>, so, æˆ‘å¯ä»¥å¯¹ä»£ç åšå‡ºå¦‚ä¸‹ä¿®æ”¹å³å¯å®Œæˆå†’æ³¡æ’åº</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(l) - <span class="number">1</span>): </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(l) - <span class="number">1</span>): </span><br><span class="line">        <span class="keyword">if</span> l[i] &gt; l[i + <span class="number">1</span>]: </span><br><span class="line">            l[i], l[i + <span class="number">1</span>] = l[i + <span class="number">1</span>], l[i]</span><br><span class="line">            </span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¥æ„Ÿå—ä¸‹å¸¦è¯¦ç»†è¾“å‡ºçš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(l) - <span class="number">1</span>): </span><br><span class="line">    print(<span class="string">'---ç¬¬'</span>, j, <span class="string">'æ¬¡å¾ªç¯---'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(l) - <span class="number">1</span>): </span><br><span class="line">        print(<span class="string">'æ¯”è¾ƒ:'</span>, l[i], l[i+<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span> l[i] &gt; l[i + <span class="number">1</span>]: </span><br><span class="line">            l[i], l[i + <span class="number">1</span>] = l[i + <span class="number">1</span>], l[i]</span><br><span class="line">            print(<span class="string">'äº¤æ¢åçš„æ•°ç»„:'</span>, l)</span><br><span class="line">            </span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">---ç¬¬ <span class="number">0</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">16</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">78</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">78</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">2</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">78</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">37</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">78</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">56</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>, <span class="number">78</span>]</span><br><span class="line">---ç¬¬ <span class="number">1</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">34</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">2</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>, <span class="number">78</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">37</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">37</span> <span class="number">56</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">56</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">5</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">56</span> <span class="number">78</span></span><br><span class="line">---ç¬¬ <span class="number">2</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">2</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">2</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">5</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">34</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">37</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">37</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">2</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">5</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">37</span> <span class="number">56</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">56</span> <span class="number">78</span></span><br><span class="line">---ç¬¬ <span class="number">3</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">2</span> <span class="number">16</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">34</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">2</span>, <span class="number">16</span>, <span class="number">5</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">37</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">37</span> <span class="number">56</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">56</span> <span class="number">78</span></span><br><span class="line">---ç¬¬ <span class="number">4</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">2</span> <span class="number">16</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">34</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">37</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">37</span> <span class="number">56</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">56</span> <span class="number">78</span></span><br><span class="line">---ç¬¬ <span class="number">5</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">2</span> <span class="number">5</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">5</span> <span class="number">16</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">34</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">37</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">37</span> <span class="number">56</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">56</span> <span class="number">78</span></span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢å·²ç»å®ç°äº†å¯¹ä¸€ä¸ªæ•°ç»„è¿›è¡Œå†’æ³¡æ’åºï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªç¼ºé™·ï¼Œå°±æ˜¯æ¯æ¬¡å†…éƒ¨å¾ªç¯éƒ½æ¢å¾ªç¯6æ¬¡ï¼Œè€Œé€šè¿‡å†’æ³¡ç®—æ³•çš„æ ¸å¿ƒåŸç†æˆ‘ä»¬å·²ç»å¾—çŸ¥ï¼Œåœ¨æ¯æ¬¡å¾ªç¯ä¸­éƒ½ä¼šé€‰å‡ºæœ€å¤§çš„æ•°å­—ä¾æ¬¡ä»åå¾€å‰æ”¾ç½®ï¼Œé‚£ä¹ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå†…ä¾§å¾ªç¯çš„å¾ªç¯è§„å¾‹åªè¦æ»¡è¶³åˆ†åˆ«range<code>6 5 4 3 2 1</code>å³å¯æ‹¿åˆ°æœ€ç»ˆçš„æ’åºç»“æœï¼Œè¯·æ¥ç€å¾€ä¸‹çœ‹</p>
<h2 id="ä¼˜åŒ–è°ƒæ•´"><a href="#ä¼˜åŒ–è°ƒæ•´" class="headerlink" title="ä¼˜åŒ–è°ƒæ•´"></a>ä¼˜åŒ–è°ƒæ•´</h2><p>å‰é¢çš„åˆ†æå¾—å‡ºï¼Œé¦–æ¬¡éå†ä¸éœ€è¦éå†åˆ°æœ€åä¸€ä½ï¼Œå› ä¸ºæ˜¯å‰ä¸€ä½å’Œåä¸€ä½å»æ¯”ï¼Œæ‰€ä»¥åªéœ€éå†åˆ°<code>å€’æ•°ç¬¬äºŒä½</code>ï¼Œä¸<code>å€’æ•°ç¬¬äºŒä½+1</code>çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒå°±è¡Œå•¦</p>
<p>å½“é¦–æ¬¡å¾ªç¯ç»“æŸåï¼Œæœ€åä¸€ä½å·²ç»ç¡®å®šæ˜¯æœ€å¤§ï¼Œä¸éœ€è¦éå†ï¼Œæ ¹æ®å‰é¢çš„è§„å¾‹ï¼Œé¦–æ¬¡æ’åºåçš„æ•°ç»„å€’æ•°ç¬¬äºŒä½ä¹Ÿä¸éœ€è¦éå†ï¼Œå› ä¸ºä¼šæœ‰å€’æ•°ç¬¬ä¸‰ä½ä¸»åŠ¨ä¸ä¹‹æ¯”è¾ƒï¼Œæ‰€ä»¥æ‹¿ä¸Šé¢çš„æ•°ç»„ä¸¾ä¾‹ğŸŒ°ï¼Œå¾—åˆ°çš„è§„å¾‹æ˜¯ï¼Œæ•°ç»„é•¿åº¦ä¸º7ï¼Œå†…å±‚å¾ªç¯ç¬¬ä¸€æ¬¡éœ€è¦å¾ªç¯6æ¬¡ï¼Œç¬¬äºŒæ¬¡éœ€è¦å¾ªç¯5æ¬¡ï¼Œç¬¬ä¸‰æ¬¡éœ€è¦å¾ªç¯4æ¬¡ï¼Œç¬¬å››æ¬¡éœ€è¦å¾ªç¯3æ¬¡ï¼Œç¬¬äº”æ¬¡éœ€è¦å¾ªç¯2æ¬¡ï¼Œç¬¬å…­æ¬¡éœ€è¦å¾ªç¯1æ¬¡ï¼Œé€€å‡ºã€‚</p>
<p>æˆ‘ä»¬å†æ¥æ‰¾ä¸€ä¸‹è§„å¾‹ï¼ˆæ‹¿é¦–æ¬¡å¾ªç¯çš„æƒ…å†µä¸¾ä¾‹ğŸŒ°ï¼‰ï¼š</p>
<ul>
<li><p>å†…å±‚å¾ªç¯éœ€è¦çš„<code>range</code>å‚æ•°æ˜¯<code>6</code>, ç”±<code>len(l) - 1</code>å¾—å‡º<code>0 1 2 3 4 5</code></p>
</li>
<li><p>å¤–å±‚å¾ªç¯éœ€è¦çš„<code>range</code>å‚æ•°ä¹Ÿæ˜¯<code>6</code>ï¼Œä¹Ÿç”±<code>len(l) - 1</code>å¾—å‡º<code>0 1 2 3 4 5</code></p>
</li>
</ul>
<p>å†…å±‚å¾ªç¯éœ€è¦6ï¼Œä½†æ˜¯å¤–å±‚å¾ªç¯<code>range(6)</code>ä¹‹åå¾—åˆ°çš„é˜Ÿåˆ—æ˜¯<code>0 1 2 3 4 5</code>,æˆ‘ä»¬åªéœ€è®©rangeä»å¤§å¾€å°å–å€¼å³å¯<code>range(6, 0, -1)</code>å–åˆ°å¾—å€¼å³ä¸º<code>6 5 4 3 2 1</code>,æ­£å¥½å¯ä»¥æ‹¿åˆ°å†…å±‚å¾ªç¯ç”¨ï¼Œäºæ˜¯ï¼Œå¯ä»¥åšå‡ºå¦‚ä¸‹ä¿®æ”¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ¬¡å¾ªç¯</span><br><span class="line">å¤–å±‚ for j in 6 5 4 3 2 1</span><br><span class="line">	å†…å±‚ range(6) ---&gt; 0 1 2 3 4 5</span><br><span class="line">ç¬¬äºŒæ¬¡å¾ªç¯</span><br><span class="line">å¤–å±‚ for j in 5 4 3 2 1</span><br><span class="line">	å†…å±‚ range(5) ---&gt; 0 1 2 3 4</span><br><span class="line">ç¬¬ä¸‰æ¬¡å¾ªç¯</span><br><span class="line">å¤–å±‚ for j in 4 3 2 1</span><br><span class="line">	å†…å­˜ range(4) ---&gt; 0 1 2 3</span><br><span class="line">...</span><br><span class="line">ä»¥æ­¤ç±»æ¨</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ€ç»ˆä»£ç å®ç°</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(l) - <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(j):</span><br><span class="line">        <span class="keyword">if</span> l[i] &gt; l[i+<span class="number">1</span>]:</span><br><span class="line">            l[i], l[i+<span class="number">1</span>] = l[i+<span class="number">1</span>], l[i]</span><br><span class="line"></span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯¦ç»†è¾“å‡ºç‰ˆ</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(l) - <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>):</span><br><span class="line">    print(<span class="string">'---ç¬¬'</span>, j, <span class="string">'æ¬¡å¾ªç¯---'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(j):</span><br><span class="line">        print(<span class="string">'æ¯”è¾ƒ:'</span>, l[i], l[i+<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span> l[i] &gt; l[i+<span class="number">1</span>]:</span><br><span class="line">            l[i], l[i+<span class="number">1</span>] = l[i+<span class="number">1</span>], l[i]</span><br><span class="line">            print(<span class="string">'äº¤æ¢åçš„æ•°ç»„:'</span>, l)</span><br><span class="line"></span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">---ç¬¬ <span class="number">6</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">16</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">78</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">78</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">2</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">78</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">37</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">78</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">56</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>, <span class="number">5</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">78</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">34</span>, <span class="number">2</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>, <span class="number">78</span>]</span><br><span class="line">---ç¬¬ <span class="number">5</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">34</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">2</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">5</span>, <span class="number">78</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">37</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">37</span> <span class="number">56</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">56</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">16</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">5</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">---ç¬¬ <span class="number">4</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">2</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">2</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">5</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">34</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">37</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">37</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">2</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">5</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">---ç¬¬ <span class="number">3</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">2</span> <span class="number">16</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">34</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">34</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">2</span>, <span class="number">16</span>, <span class="number">5</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">---ç¬¬ <span class="number">2</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">2</span> <span class="number">16</span></span><br><span class="line">æ¯”è¾ƒ: <span class="number">16</span> <span class="number">5</span></span><br><span class="line">äº¤æ¢åçš„æ•°ç»„: [<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">---ç¬¬ <span class="number">1</span> æ¬¡å¾ªç¯---</span><br><span class="line">æ¯”è¾ƒ: <span class="number">2</span> <span class="number">5</span></span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">37</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<p>æ‰“å®Œæ”¶å·¥~~</p>
<h2 id="æ•ˆç‡åˆ†æ"><a href="#æ•ˆç‡åˆ†æ" class="headerlink" title="æ•ˆç‡åˆ†æ"></a>æ•ˆç‡åˆ†æ</h2><ul>
<li>ç¨³å®š </li>
<li>ç©ºé—´å¤æ‚åº¦<code>O(1)</code> </li>
<li>æ—¶é—´å¤æ‚åº¦<code>O(n2)</code> </li>
<li>æœ€å·®æƒ…å†µï¼šååºï¼Œéœ€è¦äº¤æ¢<code>n*(n-1)/2</code>ä¸ªå…ƒç´  </li>
<li>æœ€å¥½æƒ…å†µï¼šæ­£åºï¼Œä¸éœ€è¦äº¤æ¢å…ƒç´ <code>O(n)</code></li>
</ul>
<h1 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h1><p>æ’å…¥æ’åºå’Œå†’æ³¡æ’åºéå¸¸åƒï¼Œå’Œå†’æ³¡çš„åŒºåˆ«åœ¨äºï¼Œåœ¨å†’æ³¡ä¸­ï¼Œç›¸é‚»ä¸¤ä¸ªå€¼è¿›è¡Œæ¯”è¾ƒï¼Œåªè¦åé¢çš„æ•°æ¯”å‰é¢çš„æ•°å¤§å°±äº¤æ¢ä½ç½®ï¼›è€Œæ’å…¥æ’åºæ¯æ¬¡å‡è®¾ç¬¬0ç´¢å¼•çš„å…ƒç´ æ˜¯æœ€å¤§å€¼ï¼Œå»å’Œé˜Ÿåˆ—ä¸­å‰©ä½™æ‰€æœ‰çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œä½†æ˜¯æ’å…¥æ’åºä¸ä¼šå®é™…å»äº¤æ¢ä¸¤ä¸ªæ•°çš„ä½ç½®ï¼Œè€Œæ˜¯ä¼šä¿å­˜æœ€å¤§çš„é‚£ä¸ªå€¼å¾—ç´¢å¼•ï¼Œæ¯”åˆ°æœ€åæ—¶ï¼Œå°†æœ€å¤§å€¼æ’å…¥åˆ°åˆ—è¡¨çš„æœ€åé¢ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…ˆæ„Ÿå—ä¸‹ä»£ç </span></span><br><span class="line">l = [<span class="number">34</span>, <span class="number">16</span>, <span class="number">78</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(l) - <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>):</span><br><span class="line">    maxindex = <span class="number">0</span> </span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, i+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> l[j] &gt; l[maxindex]:</span><br><span class="line">            maxindex = j </span><br><span class="line">    l[i], l[maxindex] = l[maxindex], l[i]</span><br><span class="line">    </span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<ul>
<li>å¤–å±‚å¾ªç¯å’Œå†’æ³¡çš„æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œé‚£æ­¤ä¾‹æ¥è¯´éƒ½æ˜¯å–åˆ°äº†<code>6 5 4 3 2 1</code>è¿™ä¸ªé˜Ÿåˆ—</li>
<li>ç¬¬4è¡Œä»£ç è®¾ç½®äº†ä¸€ä¸ªæœ€å¤§å€¼çš„ç´¢å¼•ï¼Œæˆ‘å‡è®¾æ¯æ¬¡ç¬¬0ä¸ªå…ƒç´ éƒ½æ˜¯æœ€å¤§å€¼ï¼Œè¿™ä¸€æ­¥æ˜¯æ’å…¥æ’åºçš„æ ¸å¿ƒï¼Œç”¨æ¥ä¿å­˜æœ€å¤§å€¼çš„ç´¢å¼•ä½ç½®</li>
<li>ç¬¬5è¡Œå†…å­˜å¾ªç¯å’Œå†’æ³¡çš„æœ‰äº›å·®åˆ«<ul>
<li>ä¸ºä»€ä¹ˆå†’æ³¡ä»0å¼€å§‹ï¼Œè€Œæ’å…¥è¦æŒ‡å®šä»1å¼€å§‹ï¼Ÿå› ä¸ºæ’å…¥æ’åºå·²ç»æŒ‡å®šäº†æœ€å¤§å€¼çš„ç´¢å¼•çš„æ˜¯0ï¼Œæ’å…¥æ’åºä¼šæ‹¿è¿™ä¸ªâ€œæœ€å¤§å€¼â€å»å’Œæ¯ä¸€ä¸ªå…ƒç´ æ¯”è¾ƒï¼Œæ‰€ä»¥å½“ç„¶è¦ä»1å¼€å§‹å•¦ï¼ï¼</li>
<li>ä¸ºä»€ä¹ˆä»¥<code>i+1</code>ç»“æŸï¼Ÿä¸Šé¢ä¹Ÿè¯´åˆ°äº†ï¼Œå‡è®¾çš„æœ€å¤§å€¼ç´¢å¼•0ï¼Œè¦å’Œå‰©ä½™çš„æ‰€æœ‰çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼ŒåŒ…æ‹¬å–æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•è¿›è¡Œæ¯”è¾ƒï¼Œè€Œrangeæœ‰å·¦é—­å³å¼€çš„ç‰¹æ€§ï¼Œä¸åŒ…å«å³è¾¹çš„å€¼ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè¦<code>+1</code>ä¸€ä¸‹ï¼Œæ‰èƒ½å–åˆ°æœ€åä¸€ä¸ªå€¼çš„ç´¢å¼•ã€‚</li>
</ul>
</li>
<li>ç¬¬6è¡Œï¼Œæ‹¿åˆ—è¡¨ä¸­çš„å…¶ä»–å…ƒç´ ä¸â€œæœ€å¤§å€¼â€è¿›è¡Œæ¯”è¾ƒ</li>
<li>ç¬¬7è¡Œï¼Œå¦‚æœæˆç«‹ï¼Œåˆ™ä¿å­˜æœ€å¤§å€¼çš„ç´¢å¼•</li>
<li>ç¬¬8è¡Œï¼Œåœ¨æ•´ä¸ªåˆ—è¡¨éå†ä¸€æ¬¡è¿‡åï¼Œ<code>maxindex</code>çš„ç´¢å¼•å°±æ˜¯æœ€å¤§å€¼ï¼Œæ•…å°†é˜Ÿåˆ—ä¸­æœ€åä¸€ä¸ªå…ƒç´ ä¸<code>maxindex</code>å¯¹åº”çš„å…ƒç´ è¿›è¡Œè°ƒæ¢ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæ¯æ¬¡éƒ½ä¼šæŠŠæœ€å¤§å€¼ä¾æ¬¡ä»åå¾€å‰æ”¾ç½®ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½“éªŒä¸‹è¯¦ç»†çš„ä¿¡æ¯è¾“å‡º</span></span><br><span class="line">l = [<span class="number">34</span>, <span class="number">16</span>, <span class="number">78</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(l) - <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>):</span><br><span class="line">    maxindex = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, i+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> l[j] &gt; l[maxindex]:</span><br><span class="line">            maxindex = j</span><br><span class="line">    l[i], l[maxindex] = l[maxindex], l[i]</span><br><span class="line">    print(l, i)</span><br><span class="line">    </span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">[<span class="number">34</span>, <span class="number">16</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>] <span class="number">6</span></span><br><span class="line">[<span class="number">34</span>, <span class="number">16</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>] <span class="number">5</span></span><br><span class="line">[<span class="number">34</span>, <span class="number">16</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>] <span class="number">4</span></span><br><span class="line">[<span class="number">2</span>, <span class="number">16</span>, <span class="number">5</span>, <span class="number">34</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>] <span class="number">3</span></span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>] <span class="number">2</span></span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>] <span class="number">1</span></span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<p>æ’å…¥æ’åºç›¸å¯¹äºå†’æ³¡æ’åºçš„å¥½å¤„æ˜¯ï¼Œæ¯æ¬¡å†…å±‚å¾ªç¯ç»“æŸåï¼Œä¸ç®¡é˜Ÿåˆ—çš„æ•°å€¼æ€æ ·åˆ†å¸ƒï¼Œéƒ½åªä¼šæœ‰ä¸€æ¬¡å®é™…çš„æ¢å€¼æ“ä½œã€‚</p>
<h2 id="æ•ˆç‡åˆ†æ-1"><a href="#æ•ˆç‡åˆ†æ-1" class="headerlink" title="æ•ˆç‡åˆ†æ"></a>æ•ˆç‡åˆ†æ</h2><ul>
<li>ç¨³å®š </li>
<li>ç©ºé—´å¤æ‚åº¦O(1) </li>
<li>æ—¶é—´å¤æ‚åº¦O(n2) </li>
<li>æœ€å·®æƒ…å†µï¼šååºï¼Œéœ€è¦ç§»åŠ¨n*(n-1)/2ä¸ªå…ƒç´  </li>
<li>æœ€å¥½æƒ…å†µï¼šæ­£åºï¼Œä¸éœ€è¦ç§»åŠ¨å…ƒç´ </li>
</ul>
<h1 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h1><p>é€‰æ‹©æ’åºçš„æ ¸å¿ƒæ€æƒ³æ˜¯å§‹ç»ˆç»´æŠ¤ä¸€ä¸ªæœ‰åºçš„é˜Ÿåˆ—ï¼Œä¾æ¬¡ç”¨é˜Ÿåˆ—ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ä¸åé¢çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œå¯¹æ¯”ï¼Œå°æ”¾å‰ï¼Œå¤§æ”¾å</p>
<p>ä¾‹å¦‚ç°æœ‰å¦‚ä¸‹åˆ—è¡¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">l = [<span class="number">34</span>, <span class="number">16</span>, <span class="number">78</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<p>é€‰æ‹©æ’åºç®—æ³•å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ç”¨ç¬¬<span class="number">1</span>ä¸ªå…ƒç´ å’Œç¬¬<span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>çš„å…ƒç´ è¿›è¡Œå¯¹æ¯”</span><br><span class="line">ç”¨ç¬¬<span class="number">2</span>ä¸ªå…ƒç´ å’Œç¬¬<span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>çš„å…ƒç´ è¿›è¡Œå¯¹æ¯”</span><br><span class="line">ç”¨ç¬¬<span class="number">3</span>ä¸ªå…ƒç´ å’Œç¬¬<span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>çš„å…ƒç´ è¿›è¡Œå¯¹æ¯”</span><br><span class="line">......</span><br><span class="line">ä¾æ¬¡ç±»æ¨</span><br></pre></td></tr></table></figure>

<p>æ¯æ¬¡å¯¹æ¯”å®Œåï¼Œæ‹¿æ¥å¯¹æ¯”çš„é‚£ä¸ªåŸºå‡†å€¼éƒ½ä¼šè¢«æ¢æˆ<strong>å½“æ¬¡å¾ªç¯</strong>çš„æœ€å°å€¼ï¼Œä»è¿™é‡Œå¯ä»¥å¯¹æ¯”å†’æ³¡å’Œæ’åº</p>
<ul>
<li>å†’æ³¡æ˜¯ç›¸é‚»ä¸¤ä¸¤æ¯”è¾ƒï¼Œåªè¦æ¯”å‰é¢çš„å€¼å°å°±äº¤æ¢ä½ç½®ï¼Œå±äºä»å¤§å¾€å°æ’</li>
<li>æ’å…¥æ’åºä¹Ÿæ˜¯ç›¸é‚»ä¸¤ä¸¤æ¯”è¾ƒï¼Œæ¯æ¬¡éƒ½å‡è®¾ç´¢å¼•0ä¸ºæœ€å¤§å€¼ï¼Œä¸å‰©ä½™çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œè®°å½•æœ€å¤§å€¼çš„ç´¢å¼•ï¼ŒæŠŠæœ€åä¸€ä¸ªå€¼ä¸æœ€å¤§å€¼è¿›è¡Œäº¤æ¢ï¼Œå±äºä»å¤§å¾€å°æ’</li>
<li>é€‰æ‹©æ’åºæ˜¯ä»å°å¾€å¤§æ’ï¼Œç¬¬ä¸€æ¬¡å–ç¬¬0ç´¢å¼•å»å’Œæ‰€æœ‰å…ƒç´ æ¯”è¾ƒï¼Œæ¢å¾—æœ€å°å€¼æ”¾åˆ°äº†æœ€å‰é¢ï¼Œç¬¬äºŒæ¬¡å–ç¬¬1ç´¢å¼•å»å’Œæ‰€æœ‰å…ƒç´ æ¯”è¾ƒï¼Œæ¢å¾—çš„æœ€å°å€¼ä¾æ¬¡ä»å‰å¾€åæ’</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">l = [<span class="number">34</span>, <span class="number">16</span>, <span class="number">78</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(l)<span class="number">-1</span>):</span><br><span class="line">    print(<span class="string">'------'</span> * <span class="number">9</span>)</span><br><span class="line">    print(<span class="string">'å¾…æ“ä½œçš„åˆ—è¡¨---&gt;'</span>, l, <span class="string">'æ“ä½œç´¢å¼•---&gt;'</span>, i)</span><br><span class="line">    print(<span class="string">'------'</span> * <span class="number">9</span>)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, len(l)):</span><br><span class="line">        print(l[i], l[j])</span><br><span class="line">        <span class="keyword">if</span> l[i] &gt; l[j]:</span><br><span class="line">            print(<span class="string">'è°ƒæ¢ä½ç½®%s, %s'</span> %(l[j], l[i]))</span><br><span class="line">            l[i], l[j] = l[j], l[i]</span><br><span class="line">            print(<span class="string">'è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt;'</span>, l)</span><br><span class="line"></span><br><span class="line">print(l)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">------------------------------------------------------</span><br><span class="line">å¾…æ“ä½œçš„åˆ—è¡¨---&gt; [34, 16, 78, 2, 34, 56, 5] æ“ä½œç´¢å¼•---&gt; 0</span><br><span class="line">------------------------------------------------------</span><br><span class="line"><span class="number">34</span> <span class="number">16</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">16</span>, <span class="number">34</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [16, 34, 78, 2, 34, 56, 5]</span><br><span class="line"><span class="number">16</span> <span class="number">78</span></span><br><span class="line"><span class="number">16</span> <span class="number">2</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">2</span>, <span class="number">16</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [2, 34, 78, 16, 34, 56, 5]</span><br><span class="line"><span class="number">2</span> <span class="number">34</span></span><br><span class="line"><span class="number">2</span> <span class="number">56</span></span><br><span class="line"><span class="number">2</span> <span class="number">5</span></span><br><span class="line">------------------------------------------------------</span><br><span class="line">å¾…æ“ä½œçš„åˆ—è¡¨---&gt; [2, 34, 78, 16, 34, 56, 5] æ“ä½œç´¢å¼•---&gt; 1</span><br><span class="line">------------------------------------------------------</span><br><span class="line"><span class="number">34</span> <span class="number">78</span></span><br><span class="line"><span class="number">34</span> <span class="number">16</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">16</span>, <span class="number">34</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [2, 16, 78, 34, 34, 56, 5]</span><br><span class="line"><span class="number">16</span> <span class="number">34</span></span><br><span class="line"><span class="number">16</span> <span class="number">56</span></span><br><span class="line"><span class="number">16</span> <span class="number">5</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">5</span>, <span class="number">16</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [2, 5, 78, 34, 34, 56, 16]</span><br><span class="line">------------------------------------------------------</span><br><span class="line">å¾…æ“ä½œçš„åˆ—è¡¨---&gt; [2, 5, 78, 34, 34, 56, 16] æ“ä½œç´¢å¼•---&gt; 2</span><br><span class="line">------------------------------------------------------</span><br><span class="line"><span class="number">78</span> <span class="number">34</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">34</span>, <span class="number">78</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [2, 5, 34, 78, 34, 56, 16]</span><br><span class="line"><span class="number">34</span> <span class="number">34</span></span><br><span class="line"><span class="number">34</span> <span class="number">56</span></span><br><span class="line"><span class="number">34</span> <span class="number">16</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">16</span>, <span class="number">34</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [2, 5, 16, 78, 34, 56, 34]</span><br><span class="line">------------------------------------------------------</span><br><span class="line">å¾…æ“ä½œçš„åˆ—è¡¨---&gt; [2, 5, 16, 78, 34, 56, 34] æ“ä½œç´¢å¼•---&gt; 3</span><br><span class="line">------------------------------------------------------</span><br><span class="line"><span class="number">78</span> <span class="number">34</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">34</span>, <span class="number">78</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [2, 5, 16, 34, 78, 56, 34]</span><br><span class="line"><span class="number">34</span> <span class="number">56</span></span><br><span class="line"><span class="number">34</span> <span class="number">34</span></span><br><span class="line">------------------------------------------------------</span><br><span class="line">å¾…æ“ä½œçš„åˆ—è¡¨---&gt; [2, 5, 16, 34, 78, 56, 34] æ“ä½œç´¢å¼•---&gt; 4</span><br><span class="line">------------------------------------------------------</span><br><span class="line"><span class="number">78</span> <span class="number">56</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">56</span>, <span class="number">78</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [2, 5, 16, 34, 56, 78, 34]</span><br><span class="line"><span class="number">56</span> <span class="number">34</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">34</span>, <span class="number">56</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [2, 5, 16, 34, 34, 78, 56]</span><br><span class="line">------------------------------------------------------</span><br><span class="line">å¾…æ“ä½œçš„åˆ—è¡¨---&gt; [2, 5, 16, 34, 34, 78, 56] æ“ä½œç´¢å¼•---&gt; 5</span><br><span class="line">------------------------------------------------------</span><br><span class="line"><span class="number">78</span> <span class="number">56</span></span><br><span class="line">è°ƒæ¢ä½ç½®<span class="number">56</span>, <span class="number">78</span></span><br><span class="line">è°ƒæ¢å®Œä½ç½®çš„åˆ—è¡¨---&gt; [2, 5, 16, 34, 34, 56, 78]</span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">34</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>

<h2 id="æ•ˆç‡åˆ†æ-2"><a href="#æ•ˆç‡åˆ†æ-2" class="headerlink" title="æ•ˆç‡åˆ†æ"></a>æ•ˆç‡åˆ†æ</h2><ul>
<li>ä¸ç¨³å®š</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</li>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n2)</li>
<li>æœ€åæƒ…å†µï¼šO(n2) ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºæœ€å¤§å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ æ­£åºï¼Œéœ€è¦äº¤æ¢n-1ä¸ªå…ƒç´ </li>
<li>æœ€å¥½æƒ…å†µï¼šO(n2) æ­£åºï¼Œä¸éœ€è¦äº¤æ¢å…ƒç´ </li>
</ul>

      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/08/Python%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-logging/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/08/Python%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-logging/" class="post-title-link" itemprop="url">Pythonæ—¥å¿—æ¨¡å—-logging</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-08 02:30:45" itemprop="dateCreated datePublished" datetime="2016-06-08T02:30:45+08:00">2016-06-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/08/Python%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-logging/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/08/Pythonæ—¥å¿—æ¨¡å—-logging/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>Pythonçš„loggingæ¨¡å—æä¾›äº†æ ‡å‡†çš„æ—¥å¿—æ¥å£ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒä¾¿æ·åœ°è®°å½•å’Œå­˜å‚¨å„ç§æ ¼å¼çš„æ—¥å¿—ã€‚</p>
<p>Python Version: 3.5+</p>
</blockquote>
<h1 id="æ—¥å¿—çš„ç­‰çº§"><a href="#æ—¥å¿—çš„ç­‰çº§" class="headerlink" title="æ—¥å¿—çš„ç­‰çº§"></a>æ—¥å¿—çš„ç­‰çº§</h1><ol>
<li><strong>DEBUG</strong>    <em>Detailed information, typically of interest only when diagnosing problems.</em></li>
<li><strong>INFO</strong>    <em>Confirmation that things are working as expected.</em></li>
<li><strong>WARNING</strong>    <em>An indication that something unexpected happened, or indicative of some problem in the near future (e.g. â€˜disk space lowâ€™). The software is still working as expected.</em></li>
<li><strong>ERROR</strong>    <em>Due to a more serious problem, the software has not been able to perform some function.</em></li>
<li><strong>CRITICAL</strong>    <em>A serious error, indicating that the program itself may be unable to continue running.</em></li>
</ol>
<h1 id="logging"><a href="#logging" class="headerlink" title="logging"></a>logging</h1><h2 id="æœ€ç®€å•çš„ç”¨æ³•"><a href="#æœ€ç®€å•çš„ç”¨æ³•" class="headerlink" title="æœ€ç®€å•çš„ç”¨æ³•"></a>æœ€ç®€å•çš„ç”¨æ³•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.warning(<span class="string">"user [ps] attempted wrong password more than 3 times"</span>)</span><br><span class="line">logging.critical(<span class="string">"server is down"</span>)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">WARNING:root:user [ps] attempted wrong password more than <span class="number">3</span> times</span><br><span class="line">CRITICAL:root:server <span class="keyword">is</span> down</span><br></pre></td></tr></table></figure>


<h2 id="logging-basicConfig"><a href="#logging-basicConfig" class="headerlink" title="logging.basicConfig()"></a>logging.basicConfig()</h2><h3 id="filename"><a href="#filename" class="headerlink" title="filename"></a>filename</h3><p>Specifies that a FileHandler be created, using the specified<br>filename, rather than a StreamHandler</p>
<p>æ—¥å¿—å†™å…¥åˆ°æ–‡ä»¶ï¼Œæä¾›çš„æ–‡ä»¶åç§°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.basicConfig(filename=<span class="string">'example.log'</span>)</span><br><span class="line">logging.debug(<span class="string">'This message should go to the log file'</span>)</span><br><span class="line">logging.info(<span class="string">'So should this'</span>)</span><br><span class="line">logging.warning(<span class="string">'And this, too'</span>)</span><br></pre></td></tr></table></figure>

<p><code>example.log</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DEBUG:root:This message should go to the log file</span><br><span class="line">INFO:root:So should this</span><br><span class="line">WARNING:root:And this, too</span><br></pre></td></tr></table></figure>

<h3 id="level"><a href="#level" class="headerlink" title="level"></a>level</h3><p>Set the root logger level to the specified level.</p>
<p>è®¾ç½®æ—¥å¿—çº§åˆ«</p>
<p><code>bash cmd</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -fr example.log</span><br></pre></td></tr></table></figure>

<p><code>Python Code</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.basicConfig(filename=<span class="string">'example.log'</span>,level=logging.INFO)</span><br><span class="line">logging.debug(<span class="string">'This message should go to the log file'</span>)</span><br><span class="line">logging.info(<span class="string">'So should this'</span>)</span><br><span class="line">logging.warning(<span class="string">'And this, too'</span>)</span><br></pre></td></tr></table></figure>

<p><code>example.log</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INFO:root:So should this</span><br><span class="line">WARNING:root:And this, too</span><br></pre></td></tr></table></figure>

<p>æ˜æ˜å†™äº†ä¸‰æ¡æ—¥å¿—ï¼Œæ€ä¹ˆä¼šåªæœ‰ä¸¤æ¡å†™å…¥äº†å‘¢ï¼Ÿ</p>
<p>åœ¨basicConfigä¸­è®¾ç½®äº†<code>level=logging.INFO</code>ï¼ŒPythonç¨‹åºä¸­ï¼Œåªæœ‰ä¸¥é‡çº§åˆ«å¤§äºç­‰äºINFOçº§åˆ«çš„æ—¥å¿—æ‰ä¼šè¢«å†™å…¥åˆ°æ—¥å¿—ä¸­</p>
<h3 id="filemode"><a href="#filemode" class="headerlink" title="filemode"></a>filemode</h3><p>Specifies the mode to open the file, if filename is specified(if filemode is unspecified, it defaults to â€˜aâ€™)</p>
<p>è®¾ç½®æ–‡ä»¶æ‰“å¼€çš„é»˜è®¤ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œé»˜è®¤ä¸ºè¿½åŠ </p>
<p>åœ¨ä¸Šé¢çš„å°ä¾‹å­ä¹‹å‰ï¼Œæˆ‘æ‰‹åŠ¨åˆ é™¤äº†ä¹‹å‰å·²ç»ç”Ÿæˆçš„æ—¥å¿—æ–‡ä»¶ï¼Œç°åœ¨æˆ‘åœ¨ä¸åˆ é™¤æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œå†æ¬¡æ‰§è¡Œä¸€éä¸Šé¢çš„ä»£ç ï¼Œæ—¥å¿—æ–‡ä»¶ä¼šè¢«è¿½åŠ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INFO:root:So should this</span><br><span class="line">WARNING:root:And this, too</span><br><span class="line">INFO:root:So should this</span><br><span class="line">WARNING:root:And this, too</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ”¹æˆ<code>w</code>æ¯æ¬¡å†™å…¥æ—¥å¿—å‰ï¼Œè¯¥æ–‡ä»¶å†…å®¹éƒ½ä¼šè¢«æ¸…ç©º</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.basicConfig(filename=<span class="string">'example.log'</span>,filemode=<span class="string">'w'</span>, level=logging.INFO)</span><br><span class="line">logging.warning(<span class="string">"filemode='w'"</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WARNING:root:filemode&#x3D;&#39;w&#39;</span><br></pre></td></tr></table></figure>

<h3 id="datefmt"><a href="#datefmt" class="headerlink" title="datefmt"></a>datefmt</h3><p>Use the specified date/time format.</p>
<p>ä½¿ç”¨timeæ¨¡å—çš„æ—¥æœŸæ ¼å¼æ¥æ ¼å¼åŒ–æ—¥æœŸæˆ–æ—¶é—´çš„æ˜¾ç¤º</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.basicConfig(format=<span class="string">'%(asctime)s %(message)s'</span>, datefmt=<span class="string">'%m/%d/%Y %I:%M:%S %p'</span>)</span><br><span class="line">logging.warning(<span class="string">'is when this event was logged.'</span>)</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="number">12</span>/<span class="number">12</span>/<span class="number">2010</span> <span class="number">11</span>:<span class="number">46</span>:<span class="number">36</span> AM <span class="keyword">is</span> when this event was logged.</span><br></pre></td></tr></table></figure>

<h3 id="format"><a href="#format" class="headerlink" title="format"></a>format</h3><p>Use the specified format string for the handler.</p>
<p>æ—¥å¿—çš„æ ¼å¼è®¾ç½®</p>
<p>ä¸Šé¢çš„ä¾‹å­å·²ç»ç”¨åˆ°çš„æ—¶é—´çš„æ ¼å¼è¾“å‡ºåˆ°logï¼Œloggingæ¨¡å—ä¸­ï¼Œæœ‰å¦‚ä¸‹ä¿¡æ¯å¯ä»¥è¢«å†™å…¥åˆ°æ—¥å¿—</p>
<p><img src="http://oss.20150509.cn/20160608030759.png" alt=""></p>
<h3 id="å…¶ä»–å‚æ•°"><a href="#å…¶ä»–å‚æ•°" class="headerlink" title="å…¶ä»–å‚æ•°"></a>å…¶ä»–å‚æ•°</h3><ul>
<li><strong>stream</strong> <em>Use the specified stream to initialize the StreamHandler. Note that this argument is incompatible with â€˜filenameâ€™ - if both are present, â€˜streamâ€™ is ignored.</em></li>
<li><strong>handlers</strong> <em>If specified, this should be an iterable of already created handlers, which will be added to the root handler. Any handler in the list which does not have a formatter assigned will be assigned the formatter created in this function.</em></li>
</ul>
<p>ä»¥ä¸Šè¿™ä¸¤ä¸ªå‚æ•°ï¼Œåœ¨loggingå¯¹è±¡ä¸­ä½¿ç”¨çš„æƒ…å†µæ¯”è¾ƒå¤šï¼Œå°†åœ¨åé¢loggingå¯¹è±¡ä¸­ä»‹ç»å’Œä½¿ç”¨</p>
<h2 id="åŒæ—¶åœ¨ç»ˆç«¯å’Œæ—¥å¿—æ–‡ä»¶ä¸­è®°å½•æ—¥å¿—"><a href="#åŒæ—¶åœ¨ç»ˆç«¯å’Œæ—¥å¿—æ–‡ä»¶ä¸­è®°å½•æ—¥å¿—" class="headerlink" title="åŒæ—¶åœ¨ç»ˆç«¯å’Œæ—¥å¿—æ–‡ä»¶ä¸­è®°å½•æ—¥å¿—"></a>åŒæ—¶åœ¨ç»ˆç«¯å’Œæ—¥å¿—æ–‡ä»¶ä¸­è®°å½•æ—¥å¿—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment">#create logger</span></span><br><span class="line">logger = logging.getLogger(<span class="string">'TEST-LOG'</span>)</span><br><span class="line">logger.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># create console handler and set level to debug</span></span><br><span class="line">ch = logging.StreamHandler()</span><br><span class="line">ch.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line"><span class="comment"># create file handler and set level to warning</span></span><br><span class="line">fh = logging.FileHandler(<span class="string">"access.log"</span>)</span><br><span class="line">fh.setLevel(logging.WARNING)</span><br><span class="line"><span class="comment"># create formatter</span></span><br><span class="line">formatter = logging.Formatter(<span class="string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add formatter to ch and fh</span></span><br><span class="line">ch.setFormatter(formatter)</span><br><span class="line">fh.setFormatter(formatter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add ch and fh to logger</span></span><br><span class="line">logger.addHandler(ch)</span><br><span class="line">logger.addHandler(fh)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 'application' code</span></span><br><span class="line">logger.debug(<span class="string">'debug message'</span>)</span><br><span class="line">logger.info(<span class="string">'info message'</span>)</span><br><span class="line">logger.warn(<span class="string">'warn message'</span>)</span><br><span class="line">logger.error(<span class="string">'error message'</span>)</span><br><span class="line">logger.critical(<span class="string">'critical message'</span>)</span><br></pre></td></tr></table></figure>

<hr>
<p>é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªæ—¥å¿—å¯¹è±¡<code>logger = logging.getLogger(&#39;TEST-LOG&#39;)</code></p>
<p>æŸ¥çœ‹<code>getLogger</code>æºç </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getLogger</span><span class="params">(name=None)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Return a logger with the specified name, creating it if necessary.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    If no name is specified, return the root logger.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> name:</span><br><span class="line">        <span class="keyword">return</span> Logger.manager.getLogger(name)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>

<p>æ­£å¸¸æƒ…å†µä¸‹returnäº†<code>Logger.manager.getLogger(name)</code></p>
<p>å†å»æ‰¾<code>manager</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Logger.manager = Manager(Logger.root)</span><br></pre></td></tr></table></figure>

<p><code>Logger.manager</code>æ˜¯<code>Manager</code>çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œå†å»æ‰¾<code>Manager</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Manager</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    There is [under normal circumstances] just one Manager instance, which</span></span><br><span class="line"><span class="string">    holds the hierarchy of loggers.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, rootnode)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Initialize the manager with the root node of the logger hierarchy.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.root = rootnode</span><br><span class="line">        self.disable = <span class="number">0</span></span><br><span class="line">        self.emittedNoHandlerWarning = <span class="literal">False</span></span><br><span class="line">        self.loggerDict = &#123;&#125;</span><br><span class="line">        self.loggerClass = <span class="literal">None</span></span><br><span class="line">        self.logRecordFactory = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getLogger</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Get a logger with the specified name (channel name), creating it</span></span><br><span class="line"><span class="string">        if it doesn't yet exist. This name is a dot-separated hierarchical</span></span><br><span class="line"><span class="string">        name, such as "a", "a.b", "a.b.c" or similar.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        If a PlaceHolder existed for the specified name [i.e. the logger</span></span><br><span class="line"><span class="string">        didn't exist but a child of it did], replace it with the created</span></span><br><span class="line"><span class="string">        logger and fix up the parent/child references which pointed to the</span></span><br><span class="line"><span class="string">        placeholder to now point to the logger.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rv = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(name, str):</span><br><span class="line">            <span class="keyword">raise</span> TypeError(<span class="string">'A logger name must be a string'</span>)</span><br><span class="line">        _acquireLock()</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">if</span> name <span class="keyword">in</span> self.loggerDict:</span><br><span class="line">                rv = self.loggerDict[name]</span><br><span class="line">                <span class="keyword">if</span> isinstance(rv, PlaceHolder):</span><br><span class="line">                    ph = rv</span><br><span class="line">                    rv = (self.loggerClass <span class="keyword">or</span> _loggerClass)(name)</span><br><span class="line">                    rv.manager = self</span><br><span class="line">                    self.loggerDict[name] = rv</span><br><span class="line">                    self._fixupChildren(ph, rv)</span><br><span class="line">                    self._fixupParents(rv)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                rv = (self.loggerClass <span class="keyword">or</span> _loggerClass)(name)</span><br><span class="line">                rv.manager = self</span><br><span class="line">                self.loggerDict[name] = rv</span><br><span class="line">                self._fixupParents(rv)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            _releaseLock()</span><br><span class="line">        <span class="keyword">return</span> rv</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setLoggerClass</span><span class="params">(self, klass)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Set the class to be used when instantiating a logger with this Manager.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> klass != Logger:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> issubclass(klass, Logger):</span><br><span class="line">                <span class="keyword">raise</span> TypeError(<span class="string">"logger not derived from logging.Logger: "</span></span><br><span class="line">                                + klass.__name__)</span><br><span class="line">        self.loggerClass = klass</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setLogRecordFactory</span><span class="params">(self, factory)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Set the factory to be used when instantiating a log record with this</span></span><br><span class="line"><span class="string">        Manager.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.logRecordFactory = factory</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_fixupParents</span><span class="params">(self, alogger)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Ensure that there are either loggers or placeholders all the way</span></span><br><span class="line"><span class="string">        from the specified logger to the root of the logger hierarchy.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        name = alogger.name</span><br><span class="line">        i = name.rfind(<span class="string">"."</span>)</span><br><span class="line">        rv = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> (i &gt; <span class="number">0</span>) <span class="keyword">and</span> <span class="keyword">not</span> rv:</span><br><span class="line">            substr = name[:i]</span><br><span class="line">            <span class="keyword">if</span> substr <span class="keyword">not</span> <span class="keyword">in</span> self.loggerDict:</span><br><span class="line">                self.loggerDict[substr] = PlaceHolder(alogger)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                obj = self.loggerDict[substr]</span><br><span class="line">                <span class="keyword">if</span> isinstance(obj, Logger):</span><br><span class="line">                    rv = obj</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">assert</span> isinstance(obj, PlaceHolder)</span><br><span class="line">                    obj.append(alogger)</span><br><span class="line">            i = name.rfind(<span class="string">"."</span>, <span class="number">0</span>, i - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> rv:</span><br><span class="line">            rv = self.root</span><br><span class="line">        alogger.parent = rv</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_fixupChildren</span><span class="params">(self, ph, alogger)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Ensure that children of the placeholder ph are connected to the</span></span><br><span class="line"><span class="string">        specified logger.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        name = alogger.name</span><br><span class="line">        namelen = len(name)</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> ph.loggerMap.keys():</span><br><span class="line">            <span class="comment">#The if means ... if not c.parent.name.startswith(nm)</span></span><br><span class="line">            <span class="keyword">if</span> c.parent.name[:namelen] != name:</span><br><span class="line">                alogger.parent = c.parent</span><br><span class="line">                c.parent = alogger</span><br><span class="line"></span><br><span class="line"><span class="comment">#---------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">#   Logger classes and functions</span></span><br><span class="line"><span class="comment">#---------------------------------------------------------------------------</span></span><br></pre></td></tr></table></figure>

<p>ç»ˆäºæ‰¾åˆ°äº†ï¼æ˜¯åœ¨ä¸Šé¢é‚£é‡Œåˆ›å»ºäº†ä¸€ä¸ªloggerå¯¹è±¡</p>
<p>ä»¥åä»£ç éƒ½æ˜¯ä½¿ç”¨è¿™ä¸ªloggerå¯¹è±¡æ¥æ“ä½œçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œè¿™ä¸ªloggerå¯¹è±¡é‡Œé¢éƒ½ç»™æˆ‘æä¾›äº†å“ªäº›ä¸œè¥¿~~</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span><span class="params">(Filterer)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Instances of the Logger class represent a single logging channel. A</span></span><br><span class="line"><span class="string">    "logging channel" indicates an area of an application. Exactly how an</span></span><br><span class="line"><span class="string">    "area" is defined is up to the application developer. Since an</span></span><br><span class="line"><span class="string">    application can have any number of areas, logging channels are identified</span></span><br><span class="line"><span class="string">    by a unique string. Application areas can be nested (e.g. an area</span></span><br><span class="line"><span class="string">    of "input processing" might include sub-areas "read CSV files", "read</span></span><br><span class="line"><span class="string">    XLS files" and "read Gnumeric files"). To cater for this natural nesting,</span></span><br><span class="line"><span class="string">    channel names are organized into a namespace hierarchy where levels are</span></span><br><span class="line"><span class="string">    separated by periods, much like the Java or Python package namespace. So</span></span><br><span class="line"><span class="string">    in the instance given above, channel names might be "input" for the upper</span></span><br><span class="line"><span class="string">    level, and "input.csv", "input.xls" and "input.gnu" for the sub-levels.</span></span><br><span class="line"><span class="string">    There is no arbitrary limit to the depth of nesting.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, level=NOTSET)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Initialize the logger with a name and an optional level.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        Filterer.__init__(self)</span><br><span class="line">        self.name = name</span><br><span class="line">        self.level = _checkLevel(level)</span><br><span class="line">        self.parent = <span class="literal">None</span></span><br><span class="line">        self.propagate = <span class="literal">True</span></span><br><span class="line">        self.handlers = []</span><br><span class="line">        self.disabled = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setLevel</span><span class="params">(self, level)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Set the logging level of this logger.  level must be an int or a str.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.level = _checkLevel(level)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Log 'msg % args' with severity 'DEBUG'.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        To pass exception information, use the keyword argument exc_info with</span></span><br><span class="line"><span class="string">        a true value, e.g.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        logger.debug("Houston, we have a %s", "thorny problem", exc_info=1)</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.isEnabledFor(DEBUG):</span><br><span class="line">            self._log(DEBUG, msg, args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Log 'msg % args' with severity 'INFO'.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        To pass exception information, use the keyword argument exc_info with</span></span><br><span class="line"><span class="string">        a true value, e.g.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        logger.info("Houston, we have a %s", "interesting problem", exc_info=1)</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.isEnabledFor(INFO):</span><br><span class="line">            self._log(INFO, msg, args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">warning</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Log 'msg % args' with severity 'WARNING'.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        To pass exception information, use the keyword argument exc_info with</span></span><br><span class="line"><span class="string">        a true value, e.g.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        logger.warning("Houston, we have a %s", "bit of a problem", exc_info=1)</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.isEnabledFor(WARNING):</span><br><span class="line">            self._log(WARNING, msg, args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">warn</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">        warnings.warn(<span class="string">"The 'warn' method is deprecated, "</span></span><br><span class="line">            <span class="string">"use 'warning' instead"</span>, DeprecationWarning, <span class="number">2</span>)</span><br><span class="line">        self.warning(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Log 'msg % args' with severity 'ERROR'.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        To pass exception information, use the keyword argument exc_info with</span></span><br><span class="line"><span class="string">        a true value, e.g.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        logger.error("Houston, we have a %s", "major problem", exc_info=1)</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.isEnabledFor(ERROR):</span><br><span class="line">            self._log(ERROR, msg, args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exception</span><span class="params">(self, msg, *args, exc_info=True, **kwargs)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Convenience method for logging an ERROR with exception information.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.error(msg, *args, exc_info=exc_info, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">critical</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Log 'msg % args' with severity 'CRITICAL'.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        To pass exception information, use the keyword argument exc_info with</span></span><br><span class="line"><span class="string">        a true value, e.g.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        logger.critical("Houston, we have a %s", "major disaster", exc_info=1)</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.isEnabledFor(CRITICAL):</span><br><span class="line">            self._log(CRITICAL, msg, args, **kwargs)</span><br><span class="line"></span><br><span class="line">    fatal = critical</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(self, level, msg, *args, **kwargs)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Log 'msg % args' with the integer severity 'level'.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        To pass exception information, use the keyword argument exc_info with</span></span><br><span class="line"><span class="string">        a true value, e.g.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        logger.log(level, "We have a %s", "mysterious problem", exc_info=1)</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(level, int):</span><br><span class="line">            <span class="keyword">if</span> raiseExceptions:</span><br><span class="line">                <span class="keyword">raise</span> TypeError(<span class="string">"level must be an integer"</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> self.isEnabledFor(level):</span><br><span class="line">            self._log(level, msg, args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findCaller</span><span class="params">(self, stack_info=False)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Find the stack frame of the caller so that we can note the source</span></span><br><span class="line"><span class="string">        file name, line number and function name.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        f = currentframe()</span><br><span class="line">        <span class="comment">#On some versions of IronPython, currentframe() returns None if</span></span><br><span class="line">        <span class="comment">#IronPython isn't run with -X:Frames.</span></span><br><span class="line">        <span class="keyword">if</span> f <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            f = f.f_back</span><br><span class="line">        rv = <span class="string">"(unknown file)"</span>, <span class="number">0</span>, <span class="string">"(unknown function)"</span>, <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> hasattr(f, <span class="string">"f_code"</span>):</span><br><span class="line">            co = f.f_code</span><br><span class="line">            filename = os.path.normcase(co.co_filename)</span><br><span class="line">            <span class="keyword">if</span> filename == _srcfile:</span><br><span class="line">                f = f.f_back</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            sinfo = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">if</span> stack_info:</span><br><span class="line">                sio = io.StringIO()</span><br><span class="line">                sio.write(<span class="string">'Stack (most recent call last):\n'</span>)</span><br><span class="line">                traceback.print_stack(f, file=sio)</span><br><span class="line">                sinfo = sio.getvalue()</span><br><span class="line">                <span class="keyword">if</span> sinfo[<span class="number">-1</span>] == <span class="string">'\n'</span>:</span><br><span class="line">                    sinfo = sinfo[:<span class="number">-1</span>]</span><br><span class="line">                sio.close()</span><br><span class="line">            rv = (co.co_filename, f.f_lineno, co.co_name, sinfo)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> rv</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeRecord</span><span class="params">(self, name, level, fn, lno, msg, args, exc_info,</span></span></span><br><span class="line"><span class="function"><span class="params">                   func=None, extra=None, sinfo=None)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        A factory method which can be overridden in subclasses to create</span></span><br><span class="line"><span class="string">        specialized LogRecords.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rv = _logRecordFactory(name, level, fn, lno, msg, args, exc_info, func,</span><br><span class="line">                             sinfo)</span><br><span class="line">        <span class="keyword">if</span> extra <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">for</span> key <span class="keyword">in</span> extra:</span><br><span class="line">                <span class="keyword">if</span> (key <span class="keyword">in</span> [<span class="string">"message"</span>, <span class="string">"asctime"</span>]) <span class="keyword">or</span> (key <span class="keyword">in</span> rv.__dict__):</span><br><span class="line">                    <span class="keyword">raise</span> KeyError(<span class="string">"Attempt to overwrite %r in LogRecord"</span> % key)</span><br><span class="line">                rv.__dict__[key] = extra[key]</span><br><span class="line">        <span class="keyword">return</span> rv</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_log</span><span class="params">(self, level, msg, args, exc_info=None, extra=None, stack_info=False)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Low-level logging routine which creates a LogRecord and then calls</span></span><br><span class="line"><span class="string">        all the handlers of this logger to handle the record.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        sinfo = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> _srcfile:</span><br><span class="line">            <span class="comment">#IronPython doesn't track Python frames, so findCaller raises an</span></span><br><span class="line">            <span class="comment">#exception on some versions of IronPython. We trap it here so that</span></span><br><span class="line">            <span class="comment">#IronPython can use logging.</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                fn, lno, func, sinfo = self.findCaller(stack_info)</span><br><span class="line">            <span class="keyword">except</span> ValueError: <span class="comment"># pragma: no cover</span></span><br><span class="line">                fn, lno, func = <span class="string">"(unknown file)"</span>, <span class="number">0</span>, <span class="string">"(unknown function)"</span></span><br><span class="line">        <span class="keyword">else</span>: <span class="comment"># pragma: no cover</span></span><br><span class="line">            fn, lno, func = <span class="string">"(unknown file)"</span>, <span class="number">0</span>, <span class="string">"(unknown function)"</span></span><br><span class="line">        <span class="keyword">if</span> exc_info:</span><br><span class="line">            <span class="keyword">if</span> isinstance(exc_info, BaseException):</span><br><span class="line">                exc_info = (type(exc_info), exc_info, exc_info.__traceback__)</span><br><span class="line">            <span class="keyword">elif</span> <span class="keyword">not</span> isinstance(exc_info, tuple):</span><br><span class="line">                exc_info = sys.exc_info()</span><br><span class="line">        record = self.makeRecord(self.name, level, fn, lno, msg, args,</span><br><span class="line">                                 exc_info, func, extra, sinfo)</span><br><span class="line">        self.handle(record)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle</span><span class="params">(self, record)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Call the handlers for the specified record.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        This method is used for unpickled records received from a socket, as</span></span><br><span class="line"><span class="string">        well as those created locally. Logger-level filtering is applied.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">not</span> self.disabled) <span class="keyword">and</span> self.filter(record):</span><br><span class="line">            self.callHandlers(record)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addHandler</span><span class="params">(self, hdlr)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Add the specified handler to this logger.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        _acquireLock()</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> (hdlr <span class="keyword">in</span> self.handlers):</span><br><span class="line">                self.handlers.append(hdlr)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            _releaseLock()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeHandler</span><span class="params">(self, hdlr)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Remove the specified handler from this logger.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        _acquireLock()</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">if</span> hdlr <span class="keyword">in</span> self.handlers:</span><br><span class="line">                self.handlers.remove(hdlr)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            _releaseLock()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasHandlers</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        See if this logger has any handlers configured.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Loop through all handlers for this logger and its parents in the</span></span><br><span class="line"><span class="string">        logger hierarchy. Return True if a handler was found, else False.</span></span><br><span class="line"><span class="string">        Stop searching up the hierarchy whenever a logger with the "propagate"</span></span><br><span class="line"><span class="string">        attribute set to zero is found - that will be the last logger which</span></span><br><span class="line"><span class="string">        is checked for the existence of handlers.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        c = self</span><br><span class="line">        rv = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">while</span> c:</span><br><span class="line">            <span class="keyword">if</span> c.handlers:</span><br><span class="line">                rv = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> c.propagate:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                c = c.parent</span><br><span class="line">        <span class="keyword">return</span> rv</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">callHandlers</span><span class="params">(self, record)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Pass a record to all relevant handlers.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Loop through all handlers for this logger and its parents in the</span></span><br><span class="line"><span class="string">        logger hierarchy. If no handler was found, output a one-off error</span></span><br><span class="line"><span class="string">        message to sys.stderr. Stop searching up the hierarchy whenever a</span></span><br><span class="line"><span class="string">        logger with the "propagate" attribute set to zero is found - that</span></span><br><span class="line"><span class="string">        will be the last logger whose handlers are called.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        c = self</span><br><span class="line">        found = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> c:</span><br><span class="line">            <span class="keyword">for</span> hdlr <span class="keyword">in</span> c.handlers:</span><br><span class="line">                found = found + <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> record.levelno &gt;= hdlr.level:</span><br><span class="line">                    hdlr.handle(record)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> c.propagate:</span><br><span class="line">                c = <span class="literal">None</span>    <span class="comment">#break out</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                c = c.parent</span><br><span class="line">        <span class="keyword">if</span> (found == <span class="number">0</span>):</span><br><span class="line">            <span class="keyword">if</span> lastResort:</span><br><span class="line">                <span class="keyword">if</span> record.levelno &gt;= lastResort.level:</span><br><span class="line">                    lastResort.handle(record)</span><br><span class="line">            <span class="keyword">elif</span> raiseExceptions <span class="keyword">and</span> <span class="keyword">not</span> self.manager.emittedNoHandlerWarning:</span><br><span class="line">                sys.stderr.write(<span class="string">"No handlers could be found for logger"</span></span><br><span class="line">                                 <span class="string">" \"%s\"\n"</span> % self.name)</span><br><span class="line">                self.manager.emittedNoHandlerWarning = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getEffectiveLevel</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Get the effective level for this logger.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Loop through this logger and its parents in the logger hierarchy,</span></span><br><span class="line"><span class="string">        looking for a non-zero logging level. Return the first one found.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        logger = self</span><br><span class="line">        <span class="keyword">while</span> logger:</span><br><span class="line">            <span class="keyword">if</span> logger.level:</span><br><span class="line">                <span class="keyword">return</span> logger.level</span><br><span class="line">            logger = logger.parent</span><br><span class="line">        <span class="keyword">return</span> NOTSET</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEnabledFor</span><span class="params">(self, level)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Is this logger enabled for level 'level'?</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.manager.disable &gt;= level:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> level &gt;= self.getEffectiveLevel()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getChild</span><span class="params">(self, suffix)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Get a logger which is a descendant to this one.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        This is a convenience method, such that</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        logging.getLogger('abc').getChild('def.ghi')</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        is the same as</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        logging.getLogger('abc.def.ghi')</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        It's useful, for example, when the parent logger is named using</span></span><br><span class="line"><span class="string">        __name__ rather than a literal string.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.root <span class="keyword">is</span> <span class="keyword">not</span> self:</span><br><span class="line">            suffix = <span class="string">'.'</span>.join((self.name, suffix))</span><br><span class="line">        <span class="keyword">return</span> self.manager.getLogger(suffix)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢å®ä¾‹ä¸­ç”¨åˆ°çš„<code>logger.setLevel</code> <code>logger.addHandler</code> <code>logger.debug</code> <code>logger.info</code> <code>logger.warn</code> <code>logger.error</code> <code>logger.critical</code> éƒ½æ˜¯è¿™é‡Œæä¾›çš„åŠŸèƒ½ï¼Œè¿™äº›éƒ½æ˜¯å¯¹è±¡æ–¹æ³•ï¼Œè®¾ç½®çš„å‚æ•°å’Œæ‰“å°çš„æ—¥å¿—éƒ½æ˜¯å¯¹è±¡çš„è¡Œä¸ºï¼Œä¸loggingç±»ä¸€å®šè¦åŒºåˆ†å¼€ï¼ˆlogging.basicConfigæ˜¯ç±»æ–¹æ³•ï¼Œlogger.setLevelæ˜¯å¯¹è±¡æ–¹æ³•ï¼‰</p>
<p><code>formatter = logging.Formatter(&#39;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#39;)</code>ï¼Œè¿™å¥çš„æ„æ€æ˜¯ç”Ÿæˆäº†ä¸€ä¸ªformatterå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¿å­˜äº†æ—¥å¿—è¾“å‡ºçš„æ ¼å¼ï¼Œå®ä¾‹ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡è¢«å½“åšå‚æ•°ä¼ é€’åˆ°äº†<code>logging.StreamHandler()</code>å’Œ<code>logging.FileHandler(&quot;access.log&quot;)</code>å¯¹è±¡ä¸­ï¼Œæ„æ€æ˜¯å£°æ˜è®©è¿™ä¸¤ä¸ªæ—¥å¿—è¾“å‡ºå½¢å¼ä»¥<code>formatter</code>å¯¹è±¡æŒ‡å®šçš„æ ¼å¼è¿›è¡Œè¾“å‡º</p>
<p>æœ€åéœ€è¦è¯´æ˜çš„æ˜¯<code>logger.addHandler</code>, Handleræ˜¯è¾“å‡ºæ–¹å¼ï¼Œ<code>logging.StreamHandler()</code>æ˜¯è¾“å‡ºåˆ°å±å¹•çš„å¯¹è±¡ï¼ˆå¥æŸ„ï¼‰ï¼Œ<code>logging.FileHandler(&quot;access.log&quot;)</code>æ˜¯è¾“å‡ºåˆ°æ–‡ä»¶çš„å¯¹è±¡ï¼ˆå¥æŸ„ï¼‰ï¼Œä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œå°†è¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æ·»åŠ åˆ°äº†loggerå¯¹è±¡ä¸­ï¼Œæ‰€ä»¥ä½¿loggeræ‹¥æœ‰äº†æ—¢è¾“å‡ºåˆ°å±å¹•åˆå†™å…¥åˆ°æ—¥å¿—çš„èƒ½åŠ›ã€‚</p>

      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/08/Python%E6%97%B6%E9%97%B4%E6%A8%A1%E5%9D%97%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/08/Python%E6%97%B6%E9%97%B4%E6%A8%A1%E5%9D%97%E8%AF%A6%E8%A7%A3/" class="post-title-link" itemprop="url">Pythonæ—¶é—´æ¨¡å—è¯¦è§£</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-08 01:24:06" itemprop="dateCreated datePublished" datetime="2016-06-08T01:24:06+08:00">2016-06-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/08/Python%E6%97%B6%E9%97%B4%E6%A8%A1%E5%9D%97%E8%AF%A6%E8%A7%A3/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/08/Pythonæ—¶é—´æ¨¡å—è¯¦è§£/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>Pythonå¸¸ç”¨çš„è·Ÿæ—¶é—´ç›¸å…³çš„æ¨¡å—æœ‰ä¸¤ä¸ª<code>time</code>å’Œ<code>datetime</code></p>
<p>å…¶ä¸­<code>datetime</code>æ˜¯<code>time</code>æ¨¡å—æ›´é«˜å±‚æ¬¡çš„å°è£…ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œä¸¤ä¸ªæ¨¡å—å„æœ‰åƒç§‹</p>
<p>Python Version: 3.5+</p>
</blockquote>
<h1 id="time"><a href="#time" class="headerlink" title="time"></a>time</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> time</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.time()  <span class="comment">#è·å–æ—¶é—´æˆ³ï¼Œä»1970å¹´1æœˆ1æ—¥0ï¼š00åˆ°ç°åœ¨çš„ç§’æ•°</span></span><br><span class="line"><span class="number">1465321187.56645</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.time() - <span class="number">86400</span>  <span class="comment">#å¯ä»¥æŒ‰éœ€ + - ç§’æ•°</span></span><br><span class="line"><span class="number">1465234811.8091</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime()  <span class="comment">#è¿”å›'Wed Jun  8 01:42:41 2016'æ ¼å¼çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">'Wed Jun  8 01:42:41 2016'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime() - <span class="number">86400</span>  <span class="comment">#æŠ¥é”™ï¼ctimeè¿”å›çš„å­—ç¬¦ä¸²ï¼Œæ˜¯ä¸èƒ½ + - çš„ </span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;input&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: unsupported operand type(s) <span class="keyword">for</span> -: <span class="string">'str'</span> <span class="keyword">and</span> <span class="string">'int'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime(time.time() - <span class="number">86400</span>)  <span class="comment">#ctimeå¯ä»¥æ¥æ”¶æ—¶é—´æˆ³å‚æ•°å¹¶è½¬åŒ–ä¸ºæ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²ï¼Œé€šè¿‡è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥æŠŠæ—¶é—´æˆ³çš„æ—¶é—´è¿›è¡Œ + - åä¼ é€’ç»™ctimeè¿›è¡Œè½¬æ¢</span></span><br><span class="line"><span class="string">'Tue Jun  7 01:45:09 2016'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.gmtime() <span class="comment">#è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„æ—¶é—´å¯¹è±¡</span></span><br><span class="line">time.struct_time(tm_year=<span class="number">2016</span>, tm_mon=<span class="number">6</span>, tm_mday=<span class="number">7</span>, tm_hour=<span class="number">17</span>, tm_min=<span class="number">47</span>, tm_sec=<span class="number">1</span>, tm_wday=<span class="number">1</span>, tm_yday=<span class="number">159</span>, tm_isdst=<span class="number">0</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(time.gmtime())</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">time</span>.<span class="title">struct_time</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">gmtime</span><span class="params">(time.time<span class="params">()</span> - <span class="number">86400</span>)</span>  #ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’æ—¶é—´æˆ³æ¥æ›´æ”¹æ—¶é—´</span></span><br><span class="line"><span class="class"><span class="title">time</span>.<span class="title">struct_time</span><span class="params">(tm_year=<span class="number">2016</span>, tm_mon=<span class="number">6</span>, tm_mday=<span class="number">6</span>, tm_hour=<span class="number">17</span>, tm_min=<span class="number">48</span>, tm_sec=<span class="number">27</span>, tm_wday=<span class="number">0</span>, tm_yday=<span class="number">158</span>, tm_isdst=<span class="number">0</span>)</span></span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">gmtime</span><span class="params">()</span>[0]  #å¯ä»¥é€šè¿‡ç´¢å¼•çš„æ–¹å¼å»å–å€¼</span></span><br><span class="line"><span class="class">2016</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">gmtime</span><span class="params">()</span>[1]</span></span><br><span class="line"><span class="class">6</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">gmtime</span><span class="params">()</span>[2]  #é—®é¢˜æ¥äº†ï¼Œç°åœ¨å·²ç»æ˜¯8å·äº†å´è¿˜æ˜¾ç¤º7ï¼Œæ˜¯å› ä¸ºè¿™é‡Œæ˜¾ç¤ºçš„æ˜¯æ ¼æ—å¨æ²»æ—¶é—´ï¼Œä¸æ˜¯æœ¬åœ°æ—¶é—´</span></span><br><span class="line"><span class="class">7</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; </span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">localtime</span><span class="params">()</span>  #æœ¬åœ°æ—¶é—´æ¥äº†ï¼è¿™ä¸ªæ–¹æ³•æ˜¾ç¤ºçš„æ˜¯æœ¬åœ°æ—¶åŒºçš„æ—¶é—´ï¼è¿”å›çš„æ ¼å¼ä¸<span class="title">gmtime</span>æ˜¯ä¸€æ ·çš„ï¼Œç”¨æ³•ä¹Ÿä¸€æ ·</span></span><br><span class="line"><span class="class"><span class="title">time</span>.<span class="title">struct_time</span><span class="params">(tm_year=<span class="number">2016</span>, tm_mon=<span class="number">6</span>, tm_mday=<span class="number">8</span>, tm_hour=<span class="number">1</span>, tm_min=<span class="number">56</span>, tm_sec=<span class="number">5</span>, tm_wday=<span class="number">2</span>, tm_yday=<span class="number">160</span>, tm_isdst=<span class="number">0</span>)</span></span></span><br><span class="line"><span class="class">&gt;&gt;&gt; </span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">mktime</span><span class="params">(time.localtime<span class="params">()</span>)</span>  #è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ª<span class="title">tuple</span>ç±»å‹çš„å‚æ•°ï¼Œå¯æ¥æ”¶<span class="title">struct_time</span>å¯¹è±¡å¹¶å°†å…¶è½¬åŒ–ä¸ºæ—¶é—´æˆ³</span></span><br><span class="line"><span class="class">1465322289.0</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; </span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">strftime</span><span class="params">(<span class="string">"%Y-%m-%d"</span>, time.localtime<span class="params">()</span>)</span>  #å°†<span class="title">struct_time</span>å¯¹è±¡ä»¥æŒ‡å®šçš„æ ¼å¼æ˜¾ç¤º</span></span><br><span class="line"><span class="class">'2016-06-08'</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">strptime</span><span class="params">(<span class="string">'2016-06-08'</span>, <span class="string">"%Y-%m-%d"</span>)</span>  #å°†æ—¥æœŸå­—ç¬¦ä¸²ä»¥æŒ‡å®šçš„æ ¼å¼è½¬åŒ–ä¸º<span class="title">struct_time</span>å¯¹è±¡</span></span><br><span class="line"><span class="class"><span class="title">time</span>.<span class="title">struct_time</span><span class="params">(tm_year=<span class="number">2016</span>, tm_mon=<span class="number">6</span>, tm_mday=<span class="number">8</span>, tm_hour=<span class="number">0</span>, tm_min=<span class="number">0</span>, tm_sec=<span class="number">0</span>, tm_wday=<span class="number">2</span>, tm_yday=<span class="number">160</span>, tm_isdst=<span class="number">-1</span>)</span></span></span><br><span class="line"><span class="class">&gt;&gt;&gt; </span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">sleep</span><span class="params">(<span class="number">4</span>)</span> </span></span><br><span class="line"><span class="class">&gt;&gt;&gt; </span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">time</span>.<span class="title">clock</span><span class="params">()</span>  #åœ¨<span class="title">Unix</span>ç³»ç»Ÿä¸Šè¡¨ç¤ºè¿›ç¨‹æ—¶é—´ã€‚åœ¨<span class="title">Windows</span>ä¸Šç¬¬ä¸€æ¬¡è¿”å›è¿›ç¨‹æ—¶é—´ï¼Œç¬¬äºŒæ¬¡è¿”å›ç¬¬ä¸€æ¬¡åˆ°ç¬¬äºŒæ¬¡ä¹‹é—´çš„æ—¶é—´</span></span><br><span class="line"><span class="class">29.472588</span></span><br></pre></td></tr></table></figure>

<h1 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.date.today()  <span class="comment">#2016-06-08</span></span><br><span class="line">datetime.date(<span class="number">2016</span>, <span class="number">6</span>, <span class="number">8</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(datetime.date.today())</span><br><span class="line"><span class="number">2016</span><span class="number">-06</span><span class="number">-08</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.date.fromtimestamp(time.time())  <span class="comment">#å°†æ—¶é—´æˆ³è½¬ä¸ºæ—¥æœŸæ ¼å¼</span></span><br><span class="line">datetime.date(<span class="number">2016</span>, <span class="number">6</span>, <span class="number">8</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.now() <span class="comment">#è¿”å›å½“å‰æ—¶é—´</span></span><br><span class="line">datetime.datetime(<span class="number">2016</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">18</span>, <span class="number">57</span>, <span class="number">453874</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(datetime.datetime.now())</span><br><span class="line"><span class="number">2016</span><span class="number">-06</span><span class="number">-08</span> <span class="number">02</span>:<span class="number">19</span>:<span class="number">08.895585</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.now().timetuple()  <span class="comment">#è½¬åŒ–ä¸ºstruct_timeå¯¹è±¡</span></span><br><span class="line">time.struct_time(tm_year=<span class="number">2016</span>, tm_mon=<span class="number">6</span>, tm_mday=<span class="number">8</span>, tm_hour=<span class="number">2</span>, tm_min=<span class="number">20</span>, tm_sec=<span class="number">17</span>, tm_wday=<span class="number">2</span>, tm_yday=<span class="number">160</span>, tm_isdst=<span class="number">-1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.now().replace(<span class="number">2015</span>, <span class="number">5</span>, <span class="number">9</span>)   <span class="comment">#æ›¿æ¢æŒ‡å®šçš„æ—¥æœŸæˆ–æ—¶é—´</span></span><br><span class="line">datetime.datetime(<span class="number">2015</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">21</span>, <span class="number">39</span>, <span class="number">897457</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.strptime(<span class="string">"09/05/15 7:56"</span>, <span class="string">"%d/%m/%y %H:%M"</span>)  <span class="comment">#å°†æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬ä¸ºæ—¶é—´æ ¼å¼ï¼Œå¹¶ä»¥æŒ‡å®šçš„æ ¼å¼è¿›è¡Œæ˜¾ç¤º</span></span><br><span class="line">datetime.datetime(<span class="number">2015</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">56</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.now() + datetime.timedelta(days=<span class="number">10</span>) <span class="comment">#æ¯”ç°åœ¨åŠ 10å¤©</span></span><br><span class="line">datetime.datetime(<span class="number">2016</span>, <span class="number">6</span>, <span class="number">18</span>, <span class="number">2</span>, <span class="number">26</span>, <span class="number">46</span>, <span class="number">45019</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.now() + datetime.timedelta(days=<span class="number">-10</span>) <span class="comment">#æ¯”ç°åœ¨å‡10å¤©</span></span><br><span class="line">datetime.datetime(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">29</span>, <span class="number">2</span>, <span class="number">26</span>, <span class="number">53</span>, <span class="number">536217</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.now() + datetime.timedelta(hours=<span class="number">-10</span>) <span class="comment">#æ¯”ç°åœ¨å‡10å°æ—¶</span></span><br><span class="line">datetime.datetime(<span class="number">2016</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">16</span>, <span class="number">27</span>, <span class="number">0</span>, <span class="number">717995</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.now() + datetime.timedelta(seconds=<span class="number">120</span>) <span class="comment">#æ¯”ç°åœ¨+120s</span></span><br><span class="line">datetime.datetime(<span class="number">2016</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">29</span>, <span class="number">7</span>, <span class="number">456727</span>)</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li>é™„å½•1ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>ç´¢å¼•ï¼ˆIndexï¼‰</th>
<th>å±æ€§ï¼ˆAttributeï¼‰</th>
<th>å€¼ï¼ˆValuesï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>tm_yearï¼ˆå¹´ï¼‰</td>
<td>æ¯”å¦‚2011</td>
</tr>
<tr>
<td>1</td>
<td>tm_monï¼ˆæœˆï¼‰</td>
<td>1 - 12</td>
</tr>
<tr>
<td>2</td>
<td>tm_mdayï¼ˆæ—¥ï¼‰</td>
<td>1 - 31</td>
</tr>
<tr>
<td>3</td>
<td>tm_hourï¼ˆæ—¶ï¼‰</td>
<td>0 - 23</td>
</tr>
<tr>
<td>4</td>
<td>tm_minï¼ˆåˆ†ï¼‰</td>
<td>0 - 59</td>
</tr>
<tr>
<td>5</td>
<td>tm_secï¼ˆç§’ï¼‰</td>
<td>0 - 61</td>
</tr>
<tr>
<td>6</td>
<td>tm_wdayï¼ˆweekdayï¼‰</td>
<td>0 - 6ï¼ˆ0è¡¨ç¤ºå‘¨æ—¥ï¼‰</td>
</tr>
<tr>
<td>7</td>
<td>tm_ydayï¼ˆä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼‰</td>
<td>1 - 366</td>
</tr>
<tr>
<td>8</td>
<td>tm_isdstï¼ˆæ˜¯å¦æ˜¯å¤ä»¤æ—¶ï¼‰</td>
<td>é»˜è®¤ä¸º-1</td>
</tr>
</tbody></table>
<ul>
<li>é™„å½•2ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>æ ¼å¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>%a</td>
<td>æœ¬åœ°ï¼ˆlocaleï¼‰ç®€åŒ–æ˜ŸæœŸåç§°</td>
</tr>
<tr>
<td>%A</td>
<td>æœ¬åœ°å®Œæ•´æ˜ŸæœŸåç§°</td>
</tr>
<tr>
<td>%b</td>
<td>æœ¬åœ°ç®€åŒ–æœˆä»½åç§°</td>
</tr>
<tr>
<td>%B</td>
<td>æœ¬åœ°å®Œæ•´æœˆä»½åç§°</td>
</tr>
<tr>
<td>%c</td>
<td>æœ¬åœ°ç›¸åº”çš„æ—¥æœŸå’Œæ—¶é—´è¡¨ç¤º</td>
</tr>
<tr>
<td>%d</td>
<td>ä¸€ä¸ªæœˆä¸­çš„ç¬¬å‡ å¤©ï¼ˆ01 - 31ï¼‰</td>
</tr>
<tr>
<td>%H</td>
<td>ä¸€å¤©ä¸­çš„ç¬¬å‡ ä¸ªå°æ—¶ï¼ˆ24å°æ—¶åˆ¶ï¼Œ00 - 23ï¼‰</td>
</tr>
<tr>
<td>%I</td>
<td>ç¬¬å‡ ä¸ªå°æ—¶ï¼ˆ12å°æ—¶åˆ¶ï¼Œ01 - 12ï¼‰</td>
</tr>
<tr>
<td>%j</td>
<td>ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼ˆ001 - 366ï¼‰</td>
</tr>
<tr>
<td>%m</td>
<td>æœˆä»½ï¼ˆ01 - 12ï¼‰</td>
</tr>
<tr>
<td>%M</td>
<td>åˆ†é’Ÿæ•°ï¼ˆ00 - 59ï¼‰</td>
</tr>
<tr>
<td>%p</td>
<td>æœ¬åœ°amæˆ–è€…pmçš„ç›¸åº”ç¬¦</td>
</tr>
<tr>
<td>%S</td>
<td>ç§’ï¼ˆ01 - 61ï¼‰</td>
</tr>
<tr>
<td>%U</td>
<td>ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ã€‚ï¼ˆ00 - 53æ˜ŸæœŸå¤©æ˜¯ä¸€ä¸ªæ˜ŸæœŸçš„å¼€å§‹ã€‚ï¼‰ç¬¬ä¸€ä¸ªæ˜ŸæœŸå¤©ä¹‹å‰çš„æ‰€æœ‰å¤©æ•°éƒ½æ”¾åœ¨ç¬¬0å‘¨ã€‚</td>
</tr>
<tr>
<td>%w</td>
<td>ä¸€ä¸ªæ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤©ï¼ˆ0 - 6ï¼Œ0æ˜¯æ˜ŸæœŸå¤©ï¼‰</td>
</tr>
<tr>
<td>%W</td>
<td>å’Œ%UåŸºæœ¬ç›¸åŒï¼Œä¸åŒçš„æ˜¯%Wä»¥æ˜ŸæœŸä¸€ä¸ºä¸€ä¸ªæ˜ŸæœŸçš„å¼€å§‹</td>
</tr>
<tr>
<td>%x</td>
<td>æœ¬åœ°ç›¸åº”æ—¥æœŸ</td>
</tr>
<tr>
<td>%X</td>
<td>æœ¬åœ°ç›¸åº”æ—¶é—´</td>
</tr>
<tr>
<td>%y</td>
<td>å»æ‰ä¸–çºªçš„å¹´ä»½ï¼ˆ00 - 99ï¼‰</td>
</tr>
<tr>
<td>%Y</td>
<td>å®Œæ•´çš„å¹´ä»½</td>
</tr>
<tr>
<td>%Z</td>
<td>æ—¶åŒºçš„åå­—ï¼ˆå¦‚æœä¸å­˜åœ¨ä¸ºç©ºå­—ç¬¦ï¼‰</td>
</tr>
<tr>
<td>%%</td>
<td>â€˜%â€™å­—ç¬¦</td>
</tr>
</tbody></table>
<ul>
<li>é™„å½•3ï¼štimeæ¨¡å—ï¼Œæ—¶é—´ä¹‹é—´çš„è½¬æ¢å…³ç³»</li>
</ul>
<p><img src="http://20150509.oss-cn-qingdao.aliyuncs.com/20160608021359.jpg" alt=""></p>

      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/07/Python%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/07/Python%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" class="post-title-link" itemprop="url">Pythonçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-07 03:53:48" itemprop="dateCreated datePublished" datetime="2016-06-07T03:53:48+08:00">2016-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/07/Python%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/07/Pythonçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>åºåˆ—åŒ–ï¼ˆSerialzationï¼‰å°†å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯è½¬æ¢ä¸ºå¯ä»¥å­˜å‚¨æˆ–ä¼ è¾“çš„å½¢å¼çš„è¿‡ç¨‹å«åšåºåˆ—åŒ–ã€‚åä¹‹å°†è¯»å–åˆ°çš„æ–‡æœ¬ä¿¡æ¯è½¬æ¢ä¸ºå¯¹è±¡å«åšååºåˆ—åŒ–ã€‚æœ¬ç¯‡æ–‡ç« ä»‹ç»ä¸‰ç§Pythonä¸‹åºåˆ—åŒ–çš„æ–¹æ³•</p>
<p>Python Version: 3.5+</p>
</blockquote>
<h1 id="json"><a href="#json" class="headerlink" title="json"></a>json</h1><p>jsonæ˜¯å½“ä»Šæœ€æµè¡Œçš„åºåˆ—åŒ–æ ¼å¼ä¹‹ä¸€ï¼Œæ‹¥æœ‰è¶…è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚ç”±äºjsonçš„è·¨å¹³å°ï¼Œè·¨è¯­è¨€äº¤æ¢ä¿¡æ¯çš„ç‰¹æ€§ï¼Œåœ¨jsonä¸­çš„å­—ç¬¦ä¸²å¿…é¡»ä½¿ç”¨åŒå¼•å·å¼•èµ·æ¥ï¼Œåœ¨æœ‰çš„è¯­è¨€ä¸­æœ‰æ˜ç¡®çš„å®šä¹‰ï¼Œå•å¼•å·åªèƒ½è¡¨ç¤ºå•ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥åœ¨jsonä¸­ä½¿ç”¨å•å¼•å·ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„æ•ˆæœ~~</p>
<p>jsonå¯ä»¥è½¬åŒ–çš„Pythonå¯¹è±¡æœ‰ï¼š</p>
<ul>
<li>list</li>
<li>dict</li>
</ul>
<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»jsonçš„4ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li>dumps() ç›´æ¥æ“ä½œPythonçš„æ•°æ®ç±»å‹è½¬æ¢æˆjsonå­—ç¬¦ä¸²</li>
<li>loads() ç›´æ¥å°†jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºPythonçš„æ•°æ®ç±»å‹</li>
<li>dump() å…ˆå°†Pythonçš„æ•°æ®ç±»å‹è½¬æ¢æˆjsonå­—ç¬¦ä¸²ï¼Œå†å†™å…¥æ–‡ä»¶</li>
<li>load() å…ˆä»æ–‡ä»¶ä¸­è¯»å–jsonå­—ç¬¦ä¸²ï¼Œå†è£…æ¢ä¸ºPythonçš„æ•°æ®ç±»å‹</li>
</ul>
<h2 id="dumps"><a href="#dumps" class="headerlink" title="dumps()"></a>dumps()</h2><p>å°†listæˆ–dictå¯¹è±¡åºåˆ—åŒ–æˆjsonæ ¼å¼çš„å­—ç¬¦ä¸²</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">d = &#123;<span class="string">'k1'</span>: <span class="string">'v1'</span>&#125;</span><br><span class="line">print(d, type(d))</span><br><span class="line"></span><br><span class="line">result = json.dumps(d)</span><br><span class="line">print(result, type(result))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">&#123;<span class="string">'k1'</span>: <span class="string">'v1'</span>&#125; &lt;<span class="class"><span class="keyword">class</span> '<span class="title">dict</span>'&gt;</span></span><br><span class="line">&#123;"k1": "v1"&#125; &lt;class 'str'&gt;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šä¸Šé¢å·²ç»å¼ºè°ƒäº†ï¼Œåœ¨jsonä¸­çš„å­—ç¬¦ä¸²å¿…é¡»ä½¿ç”¨åŒå¼•å·ã€‚åœ¨ä¸Šé¢çš„å°ä¾‹å­ä¸­ï¼Œæˆ‘åœ¨åˆ›å»ºPythonå­—å…¸çš„æ—¶å€™ä½¿ç”¨äº†å•å¼•å·ï¼Œä½†æ˜¯åœ¨åºåˆ—åŒ–æˆjsonæ ¼å¼æ—¶ï¼Œjsonè‡ªåŠ¨å¸®æˆ‘ä»¬æ¢ä¸Šäº†åŒå¼•å·ã€‚</p>
<h2 id="loads"><a href="#loads" class="headerlink" title="loads()"></a>loads()</h2><p>å°†jsonæ ¼å¼çš„å­—ç¬¦ä¸²ååºåˆ—åŒ–æˆlistæˆ–dictå¯¹è±¡</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">s = <span class="string">'&#123;"k1": "v1"&#125;'</span></span><br><span class="line">print(s, type(s))</span><br><span class="line"></span><br><span class="line">d = json.loads(s)</span><br><span class="line">print(d, type(d))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">&#123;<span class="string">"k1"</span>: <span class="string">"v1"</span>&#125; &lt;<span class="class"><span class="keyword">class</span> '<span class="title">str</span>'&gt;</span></span><br><span class="line">&#123;'k1': 'v1'&#125; &lt;class 'dict'&gt;</span><br></pre></td></tr></table></figure>

<h2 id="dump"><a href="#dump" class="headerlink" title="dump()"></a>dump()</h2><p>å°†listæˆ–dictå¯¹è±¡è½¬æ¢ä¸ºjsonæ ¼å¼çš„å­—ç¬¦ä¸²å¹¶å†™å…¥åˆ°æ–‡ä»¶ä¸­</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">d = &#123;<span class="string">'k1'</span>: <span class="string">'v1'</span>&#125;</span><br><span class="line">print(d, type(d))</span><br><span class="line"></span><br><span class="line">result = json.dump(d, open(<span class="string">'a.json'</span>, <span class="string">'w'</span>))</span><br><span class="line">print(result, type(result))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">&#123;<span class="string">'k1'</span>: <span class="string">'v1'</span>&#125; &lt;<span class="class"><span class="keyword">class</span> '<span class="title">dict</span>'&gt;</span></span><br><span class="line"><span class="class"><span class="title">None</span> &lt;<span class="title">class</span> '<span class="title">NoneType</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨dumpå†™å…¥æ–‡ä»¶åï¼Œä¸å†æœ‰è¿”å›å€¼</p>
<p><code>cat a.json</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"k1"</span>: <span class="string">"v1"</span>&#125;</span><br></pre></td></tr></table></figure>

<h2 id="load"><a href="#load" class="headerlink" title="load()"></a>load()</h2><p>å°†æ–‡ä»¶ä¸­jsonæ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºPythonçš„listæˆ–dictå¯¹è±¡</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">d = json.load(open(<span class="string">'a.json'</span>, <span class="string">'r'</span>))</span><br><span class="line">print(d, type(d))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">&#123;<span class="string">'k1'</span>: <span class="string">'v1'</span>&#125; &lt;<span class="class"><span class="keyword">class</span> '<span class="title">dict</span>'&gt;</span></span><br></pre></td></tr></table></figure>



<h1 id="pickle"><a href="#pickle" class="headerlink" title="pickle"></a>pickle</h1><p>pickleæ˜¯Pythonè¯­è¨€è‡ªå·±çš„åºåˆ—åŒ–æ–¹å¼ï¼Œå…¶ä¼˜ç‚¹æ˜¯å¯ä»¥åºåˆ—åŒ–ä»»ä½•Pythonå¯¹è±¡ï¼Œä¸ä»…é™äºjsonçš„listå’Œdictã€‚æˆ‘ä»¬è¯´Pythonæ˜¯é¢å‘å¯¹è±¡è¯­è¨€ï¼Œä¸‡ç‰©çš†å¯¹è±¡ï¼Œé‚£ä¹ˆå¯¹äºpickleæ¥è¯´å°±æ˜¯Pythonçš„ä¸‡ç‰©çš†å¯åºåˆ—åŒ–ã€‚è¿™æ—¢æ˜¯å®ƒçš„ä¼˜ç‚¹ï¼Œä¹Ÿæ˜¯å®ƒçš„ç¼ºç‚¹ï¼Œç”±äºpickleæ˜¯Pythonè‡ªå·±çš„åºåˆ—åŒ–æ–¹å¼ï¼Œå®ƒä¸æ”¯æŒä¸å…¶ä»–è¯­è¨€çš„ä¿¡æ¯äº¤æ¢ã€‚jsonå¯ä»¥è·¨è¯­è¨€è¿›è¡Œä¿¡æ¯äº¤æ¢ï¼Œä½†æ˜¯pickleä¸è¡Œï¼Œpickleåªèƒ½åœ¨Pythonè¯­è¨€ä¸‹è¿›è¡Œä¿¡æ¯çš„äº¤æ¢ï¼Œè€Œä¸”Pythonçš„ç‰ˆæœ¬ä¸åŒï¼Œå¯¹pickleæ¥è¯´å¯èƒ½è¿˜ä¼šæœ‰å…¼å®¹æ€§çš„é—®é¢˜ã€‚</p>
<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»pickleçš„4ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li>dumps()</li>
<li>loads()</li>
<li>dump()</li>
<li>load()</li>
</ul>
<h2 id="dumps-1"><a href="#dumps-1" class="headerlink" title="dumps()"></a>dumps()</h2><p>å°†ä»»ä½•Pythonå¯¹è±¡è½¬åŒ–æˆäºŒè¿›åˆ¶å­—èŠ‚ç±»å‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">u = User()</span><br><span class="line">ret = pickle.dumps(u)</span><br><span class="line">print(ret, type(ret))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="string">b'\x80\x03c__main__\nUser\nq\x00)\x81q\x01.'</span> &lt;<span class="class"><span class="keyword">class</span> '<span class="title">bytes</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="loads-1"><a href="#loads-1" class="headerlink" title="loads()"></a>loads()</h2><p>å°†äºŒè¿›åˆ¶å­—èŠ‚ç±»å‹çš„æ•°æ®è½¬åŒ–ä¸ºPythonå¯¹è±¡</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">u = User()</span><br><span class="line">ret = pickle.dumps(u)</span><br><span class="line">print(ret, type(ret))</span><br><span class="line"></span><br><span class="line">o = pickle.loads(ret)</span><br><span class="line">print(o, type(o))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="string">b'\x80\x03c__main__\nUser\nq\x00)\x81q\x01.'</span> &lt;<span class="class"><span class="keyword">class</span> '<span class="title">bytes</span>'&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">__main__</span>.<span class="title">User</span> <span class="title">object</span> <span class="title">at</span> 0<span class="title">x101b78a90</span>&gt; &lt;<span class="title">class</span> '<span class="title">__main__</span>.<span class="title">User</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="dump-1"><a href="#dump-1" class="headerlink" title="dump()"></a>dump()</h2><p>å°†Pythonå¯¹è±¡è½¬åŒ–æˆäºŒè¿›åˆ¶å­—èŠ‚ï¼Œå†å†™å…¥åˆ°æ–‡ä»¶</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">u = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">ret = pickle.dump(u, open(<span class="string">'a.pkl'</span>, <span class="string">'wb'</span>))</span><br><span class="line">print(ret, type(ret))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="literal">None</span> &lt;<span class="class"><span class="keyword">class</span> '<span class="title">NoneType</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šç”±äºpickleæŠŠå¯¹è±¡è½¬åŒ–æˆäº†äºŒè¿›åˆ¶çš„å­—èŠ‚ï¼Œæ‰€ä»¥åœ¨å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œä¸€å®šè¦åŠ ä¸Š<code>b</code></p>
<h2 id="load-1"><a href="#load-1" class="headerlink" title="load()"></a>load()</h2><p>è¯»å–æ–‡ä»¶ä¸­çš„äºŒè¿›åˆ¶å­—èŠ‚ï¼Œå°†å…¶è½¬åŒ–ä¸ºPythonå¯¹è±¡</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">o = pickle.load(open(<span class="string">'a.pkl'</span>, <span class="string">'rb'</span>))</span><br><span class="line">print(o, type(o))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) &lt;<span class="class"><span class="keyword">class</span> '<span class="title">tuple</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šè¯»å–çš„æ—¶å€™ä¹Ÿè¦åŠ ä¸Š<code>b</code></p>
<h1 id="YAML"><a href="#YAML" class="headerlink" title="YAML"></a>YAML</h1><p>YAMLæ ¼å¼æ˜¯æœ€è¿‘å‡ å¹´å¤§çº¢å¤§ç´«çš„äº¤æ¢æ ¼å¼ï¼Œä½œä¸ºè¿ç»´ï¼Œæœ€ç›´è§‚çš„æ„Ÿè§‰å°±æ˜¯ä»è¿ç»´è‡ªåŠ¨åŒ–æ¦‚å¿µçš„å¼€å§‹ï¼Œåˆ°å®¹å™¨æŠ€æœ¯çš„æ™®åŠï¼Œè®©YAMLçš„ä½¿ç”¨é¢‘ç‡ä¸€é«˜å†é«˜ã€‚YAMLæ‹¥æœ‰æ¯”jsonæ›´é«˜çš„å¯è¯»æ€§ï¼Œå°¤å…¶ç”¨åœ¨é…ç½®æ–‡ä»¶ï¼ˆå¦‚saltstackï¼Œdockeræè¿°æ–‡ä»¶ç­‰ï¼‰åœ¨åˆé€‚ä¸è¿‡äº†ï¼</p>
<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»YAMLçš„ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li>dump()</li>
<li>load()</li>
</ul>
<p>ç”±äºYAMLç»å¤§éƒ¨åˆ†çš„æ˜¯å¯¹æ–‡ä»¶æ¥æ“ä½œï¼Œæ‰€ä»¥è¿™é‡Œä»‹ç»æ—¶è°ƒæ¢ä¸€ä¸‹é¡ºåºï¼Œå…ˆä»‹ç»load()</p>
<p>é¦–å…ˆå†™ä¸€ä¸ªYAMLçš„é…ç½®æ–‡ä»¶å‡ºæ¥<code>conf.yml</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">host1:</span></span><br><span class="line">  <span class="attr">IP:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">httpd</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mysql</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">php</span></span><br><span class="line">  <span class="attr">memory:</span> <span class="string">16G</span></span><br><span class="line"></span><br><span class="line"><span class="attr">host2:</span></span><br><span class="line">  <span class="attr">IP:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.2</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">logstash</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">kibana</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">elasticsearch</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">kafka</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">zookeeper</span></span><br><span class="line">  <span class="attr">memory:</span> <span class="string">128G</span></span><br></pre></td></tr></table></figure>

<h2 id="load-2"><a href="#load-2" class="headerlink" title="load()"></a>load()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"></span><br><span class="line">o = yaml.load(open(<span class="string">'conf.yml'</span>))</span><br><span class="line">print(o, type(o))</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">&#123;<span class="string">'host1'</span>: &#123;<span class="string">'app'</span>: [<span class="string">'httpd'</span>, <span class="string">'mysql'</span>, <span class="string">'php'</span>], <span class="string">'IP'</span>: <span class="string">'192.168.1.1'</span>, <span class="string">'memory'</span>: <span class="string">'16G'</span>&#125;, <span class="string">'host2'</span>: &#123;<span class="string">'app'</span>: [<span class="string">'logstash'</span>, <span class="string">'kibana'</span>, <span class="string">'elasticsearch'</span>, <span class="string">'kafka'</span>, <span class="string">'zookeeper'</span>], <span class="string">'IP'</span>: <span class="string">'192.168.1.2'</span>, <span class="string">'memory'</span>: <span class="string">'128G'</span>&#125;&#125; &lt;<span class="class"><span class="keyword">class</span> '<span class="title">dict</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="dump-2"><a href="#dump-2" class="headerlink" title="dump()"></a>dump()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"></span><br><span class="line">o = yaml.load(open(<span class="string">'conf.yml'</span>))</span><br><span class="line"></span><br><span class="line">o[<span class="string">'host3'</span>] = &#123;<span class="string">'app'</span>: [<span class="string">'docker'</span>, <span class="string">'jenkins'</span>], <span class="string">'IP'</span>: <span class="string">'192.168.1.3'</span>, <span class="string">'memory'</span>: <span class="string">'64G'</span>&#125;</span><br><span class="line">yaml.dump(o, open(<span class="string">'conf.yml'</span>, <span class="string">'w'</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">host1:</span></span><br><span class="line">  <span class="attr">IP:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span></span><br><span class="line">  <span class="attr">app:</span> <span class="string">[httpd,</span> <span class="string">mysql,</span> <span class="string">php]</span></span><br><span class="line">  <span class="attr">memory:</span> <span class="string">16G</span></span><br><span class="line"><span class="attr">host2:</span></span><br><span class="line">  <span class="attr">IP:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.2</span></span><br><span class="line">  <span class="attr">app:</span> <span class="string">[logstash,</span> <span class="string">kibana,</span> <span class="string">elasticsearch,</span> <span class="string">kafka,</span> <span class="string">zookeeper]</span></span><br><span class="line">  <span class="attr">memory:</span> <span class="string">128G</span></span><br><span class="line"><span class="attr">host3:</span></span><br><span class="line">  <span class="attr">IP:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.3</span></span><br><span class="line">  <span class="attr">app:</span> <span class="string">[docker,</span> <span class="string">jenkins]</span></span><br><span class="line">  <span class="attr">memory:</span> <span class="string">64G</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨<code>default_flow_style=False</code>æ¥ä¿è¯é«˜å¯è¯»æ€§</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"></span><br><span class="line">o = yaml.load(open(<span class="string">'conf.yml'</span>))</span><br><span class="line"></span><br><span class="line">o[<span class="string">'host3'</span>] = &#123;<span class="string">'app'</span>: [<span class="string">'docker'</span>, <span class="string">'jenkins'</span>], <span class="string">'IP'</span>: <span class="string">'192.168.1.3'</span>, <span class="string">'memory'</span>: <span class="string">'64G'</span>&#125;</span><br><span class="line"><span class="comment">#yaml.dump(o, open('conf.yml', 'w'))</span></span><br><span class="line">yaml.dump(o, open(<span class="string">'conf.yml'</span>, <span class="string">'w'</span>), default_flow_style=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">host1:</span></span><br><span class="line">  <span class="attr">IP:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">httpd</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">mysql</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">php</span></span><br><span class="line">  <span class="attr">memory:</span> <span class="string">16G</span></span><br><span class="line"><span class="attr">host2:</span></span><br><span class="line">  <span class="attr">IP:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.2</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">logstash</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">kibana</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">elasticsearch</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">kafka</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">zookeeper</span></span><br><span class="line">  <span class="attr">memory:</span> <span class="string">128G</span></span><br><span class="line"><span class="attr">host3:</span></span><br><span class="line">  <span class="attr">IP:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.3</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">docker</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">jenkins</span></span><br><span class="line">  <span class="attr">memory:</span> <span class="string">64G</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://docs.lvrui.io/2016/06/07/Python%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="æåœ°ç‘é›ª">
      <meta itemprop="description" content="æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Polar Snow Documentation">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/07/Python%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/" class="post-title-link" itemprop="url">Pythonçš„è¿­ä»£å™¨å’Œç”Ÿæˆå™¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-06-07 03:21:59" itemprop="dateCreated datePublished" datetime="2016-06-07T03:21:59+08:00">2016-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2016/06/07/Python%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/07/Pythonçš„è¿­ä»£å™¨å’Œç”Ÿæˆå™¨/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>Python Versionï¼š3.5+</p>
</blockquote>
<h1 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h1><p>ä¸€ä¸ªå‡½æ•°è°ƒç”¨æ—¶è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆå¯è¿­ä»£çš„å¯¹è±¡ï¼‰ï¼Œé‚£è¿™ä¸ªå‡½æ•°å°±å«åšç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰ï¼›å¦‚æœå‡½æ•°ä¸­åŒ…å«yieldè¯­æ³•ï¼Œé‚£è¿™ä¸ªå‡½æ•°å°±ä¼šå˜æˆç”Ÿæˆå™¨ï¼›</p>
<p>åœ¨å‡½æ•°ä¸­ï¼Œæœ‰returnè¯­å¥ï¼Œåœ¨æ‰§è¡Œå‡½æ•°çš„æ—¶å€™ï¼Œä¸€æ—¦æ‰§è¡Œåˆ°returnè¯­å¥ï¼Œå‡½æ•°ä¼šç«‹å³è¿”å›ç»“æœå¹¶é€€å‡ºå‡½æ•°ï¼›è€Œå¦‚æœä½¿ç”¨äº†yieldè¯­å¥ï¼Œå½“å‡½æ•°æ‰§è¡Œåˆ°yieldæ—¶ï¼Œä¼šç«‹å³å°†yieldåçš„å€¼è¿”å›ï¼Œå¹¶ç­‰å¾…ä¸‹ä¸€æ¬¡è°ƒç”¨ã€‚</p>
<p>å½¢è±¡ç‚¹æ¥è¯´ï¼Œreturnç›¸å½“äºæŒ‰ä¸‹äº†åœæ­¢é”®ï¼›è€Œyieldç›¸å½“äºæŒ‰ä¸‹äº†æš‚åœé”®ã€‚ä»–ä»¬ä¹‹é—´çš„åŒºåˆ«å°±åœ¨äºï¼Œæš‚åœé”®æ˜¯å¯ä»¥ç»§ç»­æ’­æ”¾çš„ï¼Œè€Œåœæ­¢äº†ä¹‹åå†æ’­æ”¾éœ€è¦ä»å¤´æ’­æ”¾ã€‚</p>
<p><strong>æ„Ÿå—ä¸€ä¸‹ç”Ÿæˆå™¨</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">f = func()</span><br><span class="line"></span><br><span class="line">print(type(f))</span><br><span class="line">print(f.__next__())</span><br><span class="line">print(f.__next__())</span><br><span class="line">print(f.__next__())</span><br><span class="line">print(f.__next__())</span><br><span class="line">print(f.__next__())</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"/Users/lvrui/PycharmProjects/untitled/5/test.py"</span>, line <span class="number">85</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    print(f.__next__())</span><br><span class="line">StopIteration</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„<code>f.__next__()</code>å°±ç›¸å½“äºâ€œæ’­æ”¾â€é”®ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡ï¼Œéƒ½ä¼šè®©å‡½æ•°ä»ä¸Šæ¬¡åœæ­¢çš„ä½ç½®ç»§ç»­æ‰§è¡Œã€‚å‡½æ•°ä¸­ï¼Œå®šä¹‰äº†ä¸€å…±å¯ä»¥æœ‰å››æ¬¡æš‚åœé”®ï¼Œè€Œæˆ‘åœ¨è°ƒç”¨æ—¶ï¼ŒæŒ‰äº†äº”æ¬¡æ’­æ”¾é”®ï¼Œåˆ°æœ€åï¼ŒæŠ›å‡ºäº†StopIterationå¼‚å¸¸ï¼Œè¯´æ˜è¯¥è¿­ä»£å¯¹è±¡å·²ç»éå†å®Œæ¯•ã€‚</p>
<p>å®ä¾‹ï¼šå°†åˆ—è¡¨è¿›è¡Œæ‹†åˆ†ï¼Œä¾‹å¦‚[1, 2, 3]æ‹†åˆ†æˆ[1, 2] [2, 3]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mylist</span><span class="params">(li)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(li) - <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">yield</span> (li[i], li[i + <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">generator_list = mylist(li)</span><br><span class="line">print(generator_list)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> generator_list:</span><br><span class="line">    print(i)</span><br><span class="line">    </span><br><span class="line">------------</span><br><span class="line">&lt;generator object mylist at <span class="number">0x101380888</span>&gt;</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">(<span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">(<span class="number">5</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>

<h1 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h1><p>è¿­ä»£å™¨æ˜¯è®¿é—®é›†åˆå…ƒç´ çš„ä¸€ç§æ–¹å¼ã€‚è¿­ä»£å™¨å¯¹è±¡ä»é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹è®¿é—®ï¼Œç›´åˆ°æ‰€æœ‰çš„å…ƒç´ è¢«è®¿é—®å®Œç»“æŸã€‚è¿­ä»£å™¨åªèƒ½å¾€å‰ä¸ä¼šåé€€ï¼Œä¸è¿‡è¿™ä¹Ÿæ²¡ä»€ä¹ˆï¼Œå› ä¸ºäººä»¬å¾ˆå°‘åœ¨è¿­ä»£é€”ä¸­å¾€åé€€ã€‚å¦å¤–ï¼Œè¿­ä»£å™¨çš„ä¸€å¤§ä¼˜ç‚¹æ˜¯ä¸è¦æ±‚äº‹å…ˆå‡†å¤‡å¥½æ•´ä¸ªè¿­ä»£è¿‡ç¨‹ä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚è¿­ä»£å™¨ä»…ä»…åœ¨è¿­ä»£åˆ°æŸä¸ªå…ƒç´ æ—¶æ‰è®¡ç®—è¯¥å…ƒç´ ï¼Œè€Œåœ¨è¿™ä¹‹å‰æˆ–ä¹‹åï¼Œå…ƒç´ å¯ä»¥ä¸å­˜åœ¨æˆ–è€…è¢«é”€æ¯ã€‚è¿™ä¸ªç‰¹ç‚¹ä½¿å¾—å®ƒç‰¹åˆ«é€‚åˆç”¨äºéå†ä¸€äº›å·¨å¤§çš„æˆ–æ˜¯æ— é™çš„é›†åˆï¼Œæ¯”å¦‚å‡ ä¸ªGçš„æ–‡ä»¶</p>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>è®¿é—®è€…ä¸éœ€è¦å…³å¿ƒè¿­ä»£å™¨å†…éƒ¨çš„ç»“æ„ï¼Œä»…éœ€é€šè¿‡next()æ–¹æ³•ä¸æ–­å»å–ä¸‹ä¸€ä¸ªå†…å®¹</li>
<li>ä¸èƒ½éšæœºè®¿é—®é›†åˆä¸­çš„æŸä¸ªå€¼ ï¼Œåªèƒ½ä»å¤´åˆ°å°¾ä¾æ¬¡è®¿é—®</li>
<li>è®¿é—®åˆ°ä¸€åŠæ—¶ä¸èƒ½å¾€å›é€€</li>
<li>ä¾¿äºå¾ªç¯æ¯”è¾ƒå¤§çš„æ•°æ®é›†åˆï¼ŒèŠ‚çœå†…å­˜</li>
</ul>
<h2 id="å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡"><a href="#å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡" class="headerlink" title="å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡"></a>å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>i = iter([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>i</span><br><span class="line">&lt;list_iterator object at <span class="number">0x1032fa390</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dir(i)</span><br><span class="line">[<span class="string">'__class__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__dir__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__format__'</span>, <span class="string">'__ge__'</span>, <span class="string">'__getattribute__'</span>, <span class="string">'__gt__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__init__'</span>, <span class="string">'__iter__'</span>, <span class="string">'__le__'</span>, <span class="string">'__length_hint__'</span>, <span class="string">'__lt__'</span>, <span class="string">'__ne__'</span>, <span class="string">'__new__'</span>, <span class="string">'__next__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>, <span class="string">'__setattr__'</span>, <span class="string">'__setstate__'</span>, <span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>]</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªå¯¹è±¡ä¸­ï¼ŒåŒæ—¶æ‹¥æœ‰<code>__iter__</code> <code>__next__</code>è¿™ä¸¤ä¸ªæ–¹æ³•çš„å¯¹è±¡å°±æ˜¯å¯è¿­ä»£å¯¹è±¡ã€‚</p>
<p>è¿­ä»£å¯¹è±¡é ä»€ä¹ˆè¿­ä»£ï¼Ÿé <code>__next__</code>æ–¹æ³•è¿›è¡Œè¿­ä»£ã€‚è€ŒPythonä¸­çš„forå¾ªç¯è¯­å¥ï¼Œå†…éƒ¨å¸®æˆ‘ä»¬è°ƒç”¨äº†å¯¹è±¡çš„<code>__next__</code>æ–¹æ³•ï¼Œè€Œä¸”å¸®æˆ‘ä»¬è‡ªåŠ¨æ•è·äº†StopIterationå¼‚å¸¸ã€‚So <code>for</code>å¾ªç¯å°±æ˜¯Pythonä¸­çš„è¿­ä»£å™¨</p>

      
    </div>

    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/24/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><span class="page-number current">25</span><a class="page-number" href="/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/26/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="æåœ°ç‘é›ª"
      src="/images/avatar.JPG">
  <p class="site-author-name" itemprop="name">æåœ°ç‘é›ª</p>
  <div class="site-description" itemprop="description">æåœ°ç‘é›ªçš„ä¸ªäººæŠ€æœ¯åšå®¢. "å–ä¹‹å¼€æº ç”¨ä¹‹å¼€æº", åˆ†äº«è‡ªå·±çš„ç»éªŒä¹‹è°ˆ".</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">287</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">378</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Larry0315" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Larry0315" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:polarsnow@lvrui.io" title="E-Mail â†’ mailto:polarsnow@lvrui.io" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.lvrui.io/" title="https:&#x2F;&#x2F;www.lvrui.io" rel="noopener" target="_blank">www.lvrui.io</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://20150509.cn/" title="https:&#x2F;&#x2F;20150509.cn" rel="noopener" target="_blank">20150509.cn</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="http://www.beian.miit.gov.cn/" rel="noopener" target="_blank">å†€ICPå¤‡15013857å·-2 </a>
  </div>

<div class="copyright">
  
  &copy; 2015 â€“ 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">æåœ°ç‘é›ª</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://polarsnow.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
